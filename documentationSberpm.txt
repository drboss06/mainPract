Process Mining —Å sberpm

–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ sberpm –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∞ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∏ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–æ–≤, –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –∏—Ö –≤ –≤–∏–¥–µ –≥—Ä–∞—Ñ–æ–≤ –∏ —Ä–µ—à–µ–Ω–∏—è —Å–º–µ–∂–Ω—ã—Ö –∑–∞–¥–∞—á –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ –∫–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏–∏ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è.

–î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–ª–Ω–æ–π –≤–µ—Ä—Å–∏–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏, –Ω–∞–ø–∏—à–∏—Ç–µ –ø–∏—Å—å–º–æ —Å –∑–∞–ø—Ä–æ—Å–æ–º –Ω–∞ aabugaenko@sberbank.ru

–°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã SberPM: https://developers.sber.ru/portal/products/sber-process-mining

title
–û–≥–ª–∞–≤–ª–µ–Ω–∏–µ

---------- –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö ----------

I. –ú—ç—Ç—á–∏–Ω–≥ —Ç–∞–±–ª–∏—Ü

II. –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ª–æ–≥–æ–≤ # –≤ –ø–æ–ª–Ω–æ–π –≤–µ—Ä—Å–∏–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏

III. –°–∏–Ω—Ç–µ—Ç–∏—á–µ—Å–∫–∏–µ ID –ø—Ä–æ—Ü–µ—Å—Å–∞ # –≤ –ø–æ–ª–Ω–æ–π –≤–µ—Ä—Å–∏–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏

IV. DataHolder---------- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ —Å –ø–æ–º–æ—â—å—é –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–∞ ---------- # –≤ –ø–æ–ª–Ω–æ–π –≤–µ—Ä—Å–∏–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏

---------- –¢—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–π Process Mining ----------

I. –ú–∞–π–Ω–µ—Ä—ã –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –≥—Ä–∞—Ñ–æ–≤

    SimpleMiner
    CausalMiner
    HeuMiner
    AlphaMiner
    AlphaPlusMiner
    InductiveMiner
    ML-miners
    NLP-Miner # –≤ –ø–æ–ª–Ω–æ–π –≤–µ—Ä—Å–∏–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
    Correlation-Miner
    II-miner

II. –ú–µ—Ç—Ä–∏–∫–∏

    –ú–µ—Ç—Ä–∏–∫–∏ + –≥—Ä–∞—Ñ—ã

III. Conformance Checking

IV. BPMN

V. –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è

---------- –ú–∞—à–∏–Ω–Ω–æ–µ-–æ–±—É—á–µ–Ω–∏–µ ----------

I. –ö–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏—è —ç—Ç–∞–ø–æ–≤ # –≤ –ø–æ–ª–Ω–æ–π –≤–µ—Ä—Å–∏–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏

II. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ –Ω–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π # –≤ –ø–æ–ª–Ω–æ–π –≤–µ—Ä—Å–∏–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏

III. –ü–æ–∏—Å–∫ –∞–Ω–æ–º–∞–ª–∏–π

IV. –§–∞–∫—Ç–æ—Ä–Ω—ã–π –∞–Ω–∞–ª–∏–∑ # –≤ –ø–æ–ª–Ω–æ–π –≤–µ—Ä—Å–∏–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏

V. –ú–æ–¥—É–ª—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –º–æ–¥–µ–ª–µ–π # –≤ –ø–æ–ª–Ω–æ–π –≤–µ—Ä—Å–∏–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏

VI. –†–µ–∫–æ–º–µ–Ω–¥–∞—Ç–µ–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ # –≤ –ø–æ–ª–Ω–æ–π –≤–µ—Ä—Å–∏–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏

VII. –ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—Å—Ç–æ–≤ # –≤ –ø–æ–ª–Ω–æ–π –≤–µ—Ä—Å–∏–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏

VIII. –°–µ–Ω—Ç–∏–º–µ–Ω—Ç–Ω—ã–π –∞–Ω–∞–ª–∏–∑ # –≤ –ø–æ–ª–Ω–æ–π –≤–µ—Ä—Å–∏–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏

IX. –ü–æ–∏—Å–∫ —Å—á–∞—Å—Ç–ª–∏–≤–æ–≥–æ –ø—É—Ç–∏ # –≤ –ø–æ–ª–Ω–æ–π –≤–µ—Ä—Å–∏–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏

X. –ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –≥—Ä–∞—Ñ–∞ # –≤ –ø–æ–ª–Ω–æ–π –≤–µ—Ä—Å–∏–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏

XI. –ò–º–∏—Ç–∞—Ü–∏–æ–Ω–Ω–æ–µ –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ what-if –∞–Ω–∞–ª–∏–∑

XII. Decision Mining

XIII. –•—Ä–æ–Ω–æ–º–µ—Ç—Ä–∞–∂
---------- –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö ----------
I. –ú—ç—Ç—á–∏–Ω–≥ —Ç–∞–±–ª–∏—Ü

–î–∞–Ω–Ω—ã–π –º–æ–¥—É–ª—å sberpm.column_matching –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π —Å–∏—Å—Ç–µ–º—É –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∑–Ω–∞—á–µ–Ω–∏—è —Å—Ç–æ–ª–±—Ü–æ–≤ –≤ –¥–≤—É—Ö —Ç–∞–±–ª–∏—Ü–∞—Ö. –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è –ø–æ —Ç–µ–∫—Å—Ç–æ–≤—ã–º –∏ —á–∏—Å–ª–µ–Ω–Ω—ã–º –∫–æ–ª–æ–Ω–∫–∞–º. –ö–æ–ª–æ–Ω–∫–∏, —É –∫–æ—Ç–æ—Ä—ã—Ö –±—É–¥—É—Ç –ø–æ—Ö–æ–∂–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ —Ä–∞–∑–Ω—ã—Ö —Ç–∞–±–ª–∏—Ü–∞—Ö, –±—É–¥—É—Ç —Å–æ–ø–æ—Å—Ç–∞–≤–ª—è—Ç—å—Å—è.

–ü–∞—Ä–∞–º–µ—Ç—Ä—ã, –ø–µ—Ä–µ–¥–∞–≤–∞–µ–º—ã–µ –≤ –∫–ª–∞—Å—Å ColumnMatching:

    data_left (pandas DataFrame) - –ø–µ—Ä–≤–∞—è —Ç–∞–±–ª–∏—Ü–∞ –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è
    data_right (pandas DataFrame) - –≤—Ç–æ—Ä–∞—è —Ç–∞–±–ª–∏—Ü–∞ –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è
    p_value_threshold (float = default 0.05) - –ø–æ—Ä–æ–≥ –¥–ª—è p-value —Ç–µ—Å—Ç–∞ –ö–æ–ª–º–æ–≥–æ—Ä–æ–≤–∞-–°–º–∏—Ä–Ω–æ–≤–∞ –¥–ª—è —á–∏—Å–ª–µ–Ω–Ω—ã—Ö –∫–æ–ª–æ–Ω–æ–∫
    iou_threshold (float = default 0.5) - –ø–æ—Ä–æ–≥ –¥–ª—è –º–µ—Ç—Ä–∏–∫–∏ IOU –¥–ª—è —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –∫–æ–ª–æ–Ω–æ–∫

–ú–µ—Ç–æ–¥—ã –∫–ª–∞—Å—Å–∞ ColumnMatching:

    get_result_pairs –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–∞—Ä—ã —Å –ø–æ—Ö–æ–∂–∏–º–∏ –∫–æ–ª–æ–Ω–∫–∞–º–∏ –∏–∑ –ª–µ–≤–æ–π –∏ –ø—Ä–∞–≤–æ–π —Ç–∞–±–ª–∏—Ü–µ.
    get_result_table –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–≤–æ–¥–Ω—É—é —Ç–∞–±–ª–∏—Ü—É, –≤ –∫–æ—Ç–æ—Ä–æ–π –ø–æ –æ—Å—è–º –∫–æ–ª–æ–Ω–∫–∏ –∏–∑ –ª–µ–≤–æ–π –∏ –ø—Ä–∞–≤–æ–π —Ç–∞–±–ª–∏—Ü–µ, –∞ –≤ —è—á–µ–π–∫–∞—Ö –º–µ—Ä—ã –ø–æ—Ö–æ–∂–µ—Å—Ç–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö –∫–æ–ª–æ–Ω–æ–∫.

from pandas import DataFrame

from sberpm.column_matching import ColumnMatching

–¢–µ—Å—Ç –Ω–∞ —Ç—Ä–∏–≤–∏–∞–ª—å–Ω—ã—Ö —Å–∏–Ω—Ç–µ—Ç–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö

data_left = DataFrame({

    "names left": ["Alexander FFFFF", "Andrew Alexander", "Ilya Emilia", "Ilya Alexander"] * 50,

    "last names left": ["Arkhipov", "Kuznetsova", "Kuznetsova", "Bugaenko"] * 50,

})

data_right = DataFrame({

    "names right": ["Seva Alexander", "Alexander Vera", "Ilya Andrew"] * 50,

    "last names right": ["Zarubin", "Zarubin", "Kuznetsova"] * 50,

})


column_map = ColumnMatching(

    data_left,

    data_right,

    p_value_threshold=0.05,

    iou_threshold=0.25,

)

column_map.map_columns()

column_map.get_result_pairs()

column_map.get_result_table()

II. –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ª–æ–≥–æ–≤
–í –ø–æ–ª–Ω–æ–π –≤–µ—Ä—Å–∏–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏

LogGenerator - –ø–æ–∑–≤–æ–ª—è–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ª–æ–≥–∏ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤, —Ç–∞–∫ –∂–µ –µ–≥–æ –≤–æ–∑–º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–æ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –∑–∞–¥–∞—á—É.
III. –°–∏–Ω—Ç–µ—Ç–∏—á–µ—Å–∫–∏–µ ID –ø—Ä–æ—Ü–µ—Å—Å–∞
–í –ø–æ–ª–Ω–æ–π –≤–µ—Ä—Å–∏–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏

Pro_n_check –Ω—É–º–µ—Ä—É–µ—Ç —ç–∫–∑–µ–º–ø–ª—è—Ä—ã –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∑–∞–¥–∞–Ω–Ω—ã—Ö —É—Å–ª–æ–≤–∏–π. –°–æ–∑–¥–∞–µ—Ç —Å—Ç–æ–ª–±–µ—Ü 'pro_n'.
IV. DataHolder

DataHolder ‚Äì —ç—Ç–æ –±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö. –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –≤—Å–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç —Å –Ω–∏–º (–ø—Ä–∏–Ω–∏–º–∞—é—Ç –Ω–∞ –≤—Ö–æ–¥).

–î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–ª–∞—Å—Å–∞ DataHolder –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–ø–µ—Ä–≤–∞ —É–∫–∞–∑–∞—Ç—å –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É –∏–ª–∏ –ø–µ—Ä–µ–¥–∞—Ç—å DataFrame –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—É, –∞ –∑–∞—Ç–µ–º —É–∫–∞–∑–∞—Ç—å id_column –∏ activity_column. –û–¥–Ω–∞–∫–æ, –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ Process Mining, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã—Ö –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫–µ, —ç—Ç–∏—Ö —Å—Ç–æ–ª–±—Ü–æ–≤ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ ‚Äì –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã —Ö–æ—Ç—è –±—ã –æ–¥–Ω–∞ –∫–æ–ª–æ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ (start_timestamp_column –∏/–∏–ª–∏ end_timestamp_column) –∏ –∫–æ–ª–æ–Ω–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (user_column).
–ü–∞—Ä–∞–º–µ—Ç—Ä—ã DataHolder

    data (str or pd.DataFrame) ‚Äì –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É –¥–∞–Ω–Ω—ã—Ö (.csv, .xls(x), .txt) –∏–ª–∏ pd.DataFrame

    id_column (str) ‚Äì —Å—Ç–æ–ª–±–µ—Ü id

    activity_column (str) ‚Äì —Å—Ç–æ–ª–±–µ—Ü –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π

    *start_timestamp_column (str) ‚Äì –≤—Ä–µ–º—è –Ω–∞—á–∞–ª–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π

    *end_timestamp_column (str) ‚Äì –≤—Ä–µ–º—è –æ–∫–æ–Ω—á–∞–Ω–∏—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π

    user_column (str) ‚Äì —Å—Ç–æ–ª–±–µ—Ü —Å –∏–º–µ–Ω–∞–º–∏/id –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

    text_column (str) ‚Äì —Å—Ç–æ–ª–±–µ—Ü —Å —Ç–µ–∫—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏

    duration_column (str) ‚Äì —Å—Ç–æ–ª–±–µ—Ü —Å –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—è–º–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π (–µ—Å–ª–∏ –Ω–µ –∑–∞–¥–∞–µ—Ç—Å—è, —Ç–æ —Ä–∞—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –∫–∞–∫ –≤—Ä–µ–º—è_–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏_2 - –≤—Ä–µ–º—è_–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏_1, –ø—Ä–∏—á–µ–º –µ—Å–ª–∏ –µ—Å—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Å—Ç–æ–ª–±–µ—Ü —Å–æ –≤—Ä–µ–º–µ–Ω–µ–º, —Ç–æ –¥–ª—è –ø–æ—Å–ª–µ–¥–Ω–µ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –≤ —Ü–µ–ø–æ—á–∫–µ —Å—Ç–∞–≤–∏—Ç—Å—è NaN)

    duration_unit (str) ‚Äì —Ä–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å (–µ–¥–∏–Ω–∏—Ü–∞ –∏–∑–º–µ—Ä–µ–Ω–∏—è) –∑–Ω–∞—á–µ–Ω–∏–π –≤ —Å—Ç–æ–ª–±—Ü–µ duration_column, –µ—Å–ª–∏ –æ–Ω –∑–∞–¥–∞–Ω

    sep (str, default=',') ‚Äì —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å–Ω—ã–π –∑–Ω–∞–∫ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —á—Ç–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö –∏–∑ —Ñ–∞–π–ª–∞)

    encoding (str) ‚Äì –∫–æ–¥–∏—Ä–æ–≤–∫–∞ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —á—Ç–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö –∏–∑ —Ñ–∞–π–ª–∞)

    nrows (int) ‚Äì –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫ –¥–ª—è —á—Ç–µ–Ω–∏—è (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —á—Ç–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö –∏–∑ —Ñ–∞–π–ª–∞)

    preprocess (bool, default=True) ‚Äì –ø—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö (—Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞, —É–¥–∞–ª–µ–Ω–∏–µ None-–∑–Ω–∞—á–µ–Ω–∏–π, –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Ç–∏–ø–æ–≤)

    time_format (str) ‚Äì —Ñ–æ—Ä–º–∞—Ç –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∫–æ–ª–æ–Ω–æ–∫ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∑–∞–¥–∞–≤–∞—Ç—å –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è –¥–∞—Ç—ã –∏ —É—Å–∫–æ—Ä–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã). –ü—Ä–∞–≤–∏–ª–∞ –Ω–∞–ø–∏—Å–∞–Ω–∏—è: https://docs.python.org/3/library/datetime.html#strftime-and-strptime-format-codes

    time_errors: (str, default='raise') ‚Äì –¥–µ–π—Å—Ç–≤–∏–µ –ø—Ä–∏ –æ—à–∏–±–∫–µ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏

    dayfirst: (bool, default=None) ‚Äì True, –µ—Å–ª–∏ –¥–µ–Ω—å —Å—Ç–æ–∏—Ç –≤ –Ω–∞—á–∞–ª–µ —Å—Ç—Ä–æ–∫–∏

    yearfirst: (bool, default=None) ‚Äì True, –µ—Å–ª–∏ –≥–æ–¥ —Å—Ç–æ–∏—Ç –≤ –Ω–∞—á–∞–ª–µ —Å—Ç—Ä–æ–∫–∏

    n_jobs (int, default=1) ‚Äì –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Ç–æ–∫–æ–≤, –¥–æ—Å—Ç—É–ø–Ω–æ–µ –¥–ª—è –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π

* –î–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ –Ω—É–∂–Ω–æ –∑–∞–¥–∞—Ç—å —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω –∏–∑ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å—Ç–æ–ª–±—Ü–æ–≤. –ï—Å–ª–∏ –Ω–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ç–∏–ø–µ —Å—Ç–æ–ª–±—Ü–∞ (–≤—Ä–µ–º—è –Ω–∞—á–∞–ª–∞ –∏–ª–∏ –∫–æ–Ω—Ü–∞), —Å–ª–µ–¥—É–µ—Ç –∑–∞–¥–∞—Ç—å –µ–≥–æ –∫–∞–∫ start_timestamp_column. –î–ª—è –≤–µ—Ä–Ω–æ–≥–æ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è —Ñ–æ—Ä–º–∞—Ç–∞ —Ç–∞–∫–∂–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É–∫–∞–∑–∞—Ç—å time_format.

–ò—Å—Å–ª–µ–¥—É–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–æ–ª–∂–Ω—ã –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—Ç—å —Å–æ–±–æ–π –∂—É—Ä–Ω–∞–ª —Å–æ–±—ã—Ç–∏–π (–ª–æ–≥-—Ñ–∞–π–ª), –≤ –∫–æ—Ç–æ—Ä–æ–º —Ö—Ä–∞–Ω–∏—Ç—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (—Ü–µ–ø–æ—á–∫–µ) —Å–æ–±—ã—Ç–∏–π (–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π) –≤ –±–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—Å–∞—Ö. –ü—Ä–∏–º–µ—Ä –∂—É—Ä–Ω–∞–ª–∞ —Å–æ–±—ã—Ç–∏–π: ùëä={(ùëé,ùëè,ùëê,ùëë),(ùëé,ùëê,ùëè,ùëë),(ùëé,ùëí,ùëë)}
, –≥–¥–µ —Å–æ–±—ã—Ç–∏—è ùëé, ùëè, ùëê, ùëë –∏ ùëí

—Å–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –ø–æ –≤—Ä–µ–º–µ–Ω–∏.
–°–æ–∑–¥–∞–Ω–∏–µ DataHolder
‚Äì —Å –ø–æ–º–æ—â—å—é DataFrame

from sberpm import DataHolder

import pandas as pd


df = pd.DataFrame({'id_column': [1, 1, 2, 2, 3, 3],

                   'activity_column': ['st1', 'st2', 'st1', 'st3', 'st1','st2'],

                   'start_timestamp_column': ['10.05.2020', '10.09.2020', '10.03.2020', '10.04.2020', '10.05.2020', '10.05.2020']})


data_holder = DataHolder(data=df,

                         id_column='id_column',

                         activity_column='activity_column',

                         start_timestamp_column='start_timestamp_column',

                         time_format='%d.%m.%Y')

‚Äì —Å –ø–æ–º–æ—â—å—é —É–∫–∞–∑–∞–Ω–∏—è –ø—É—Ç–∏ —Ñ–∞–π–ª–∞

path = 'example.xlsx'

data_holder = DataHolder(data=path,

                         id_column='id',

                         activity_column='stages',

                         start_timestamp_column='dt',

                         user_column='users',

                         text_column="some_text",

                         time_format='%Y-%m-%d')

–ï—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –∏–º–µ—é—Ç –∫–∞–∫–æ–π-–Ω–∏–±—É–¥—å —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å, –Ω–∞–ø—Ä–∏–º–µ—Ä '|' –∫–∞–∫ –≤ csv, —Ç–æ –ø–æ—Å–ª–µ –∑–∞–¥–∞–Ω–∏—è –∫–æ–ª–æ–Ω–æ–∫, –Ω—É–∂–Ω–æ –∑–∞–¥–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä sep='|'.
–ê—Ç—Ä–∏–±—É—Ç—ã DataHolder

–í DataHolder –Ω–∞–∑–≤–∞–Ω–∏—è —Å—Ç–æ–ª–±—Ü–æ–≤ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö (—Ç.–µ. –Ω–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∑–∞–ø–æ–º–∏–Ω–∞—Ç—å –Ω–∞–∑–≤–∞–Ω–∏—è –∫–æ–ª–æ–Ω–æ–∫):

    id_column
    activity_column
    start_timestamp_column
    end_timestamp_column
    user_column
    text_column
    duration_column

–ö—Ä–æ–º–µ —Ç–æ–≥–æ, –≤ DataHolder —Ö—Ä–∞–Ω—è—Ç—Å—è –∏—Å—Ö–æ–¥–Ω—ã–µ –∏ —Å–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ –≤–∏–¥–µ DataFrame, –∫ –∫–æ—Ç–æ—Ä—ã–º –º–æ–∂–Ω–æ –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:

    data
    grouped_data

–ú–µ—Ç–æ–¥—ã DataHolder

    check_or_calc_duration ‚Äì —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫–∞–∂–¥–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ (–≤ —Å–µ–∫—É–Ω–¥–∞—Ö), –µ—Å–ª–∏ —ç—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ
    get_grouped_data ‚Äì –≤—ã–≤–æ–¥–∏—Ç —Å–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ id –∏ —É–∫–∞–∑–∞–Ω–Ω—ã–º –∫–æ–ª–æ–Ω–∫–∞–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–æ activity_column –∏ start_timestamp_column)
    get_unique_activities ‚Äì –≤—ã–≤–æ–¥–∏—Ç —Å–ø–∏—Å–æ–∫ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π
    get_columns ‚Äì –≤—ã–≤–æ–¥–∏—Ç —Å–ø–∏—Å–æ–∫ —Å –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏ –∫–æ–ª–æ–Ω–æ–∫
    get_text ‚Äì –≤—ã–≤–æ–¥–∏—Ç –∫–æ–ª–æ–Ω–∫—É —Å —Ç–µ–∫—Å—Ç–æ–º, –µ—Å–ª–∏ —Ç–∞–∫–∞—è –µ—Å—Ç—å
    get_timestamp_col ‚Äì –≤—ã–≤–æ–¥–∏—Ç –≤—Ä–µ–º–µ–Ω–Ω—É—é –∫–æ–ª–æ–Ω–∫—É; –µ—Å–ª–∏ –∏—Ö –∏–º–µ–µ—Ç—Å—è 2, —Ç–æ –≤—ã–≤–æ–¥–∏—Ç start_time_column
    is_interval ‚Äì –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç True, –µ—Å–ª–∏ —ç—Ç–æ "–∏–Ω—Ç–µ—Ä–≤–∞–ª—å–Ω—ã–π –ª–æ–≥" (—É –∫–æ—Ç–æ—Ä–æ–≥–æ –∏–º–µ—é—Ç—Å—è –æ–±–µ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∫–æ–ª–æ–Ω–∫–∏: –Ω–∞—á–∞–ª–∞ –∏ –∫–æ–Ω—Ü–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏)
    top_traces_dh ‚Äì –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç data_holder —Å –¥–∞–Ω–Ω—ã–º–∏ –¥–ª—è n —Å–∞–º—ã—Ö —á–∞—Å—Ç—ã—Ö —Ü–µ–ø–æ—á–µ–∫

data_holder.check_or_calc_duration()

data_holder.data.head()

data_holder.get_grouped_data(data_holder.activity_column, data_holder.start_timestamp_column).head()

dh_3 = data_holder.top_traces_dh(3)  # –¥–∞–Ω–Ω—ã–µ —Ç–æ–ª—å–∫–æ –¥–ª—è —Ç–æ–ø 3 —Ü–µ–ø–æ—á–µ–∫

dfg = dh_3.get_grouped_data(dh_3.activity_column)

dfg.value_counts(dh_3.activity_column)  # –ø—Ä–æ–≤–µ—Ä–∫–∞

–ò–º–µ—è –¥–∞–Ω–Ω—ã–µ –æ –±–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—Å–µ —Å —Ü–µ–ø–æ—á–∫–∞–º–∏ —Å—Ç–∞—Ç—É—Å–æ–≤ –∏ –≤—Ä–µ–º–µ–Ω–µ–º –Ω–∞—á–∞–ª–∞ –∫–∞–∂–¥–æ–≥–æ –∏–∑ –Ω–∏—Ö, –º–æ–∂–Ω–æ –∑–∞–≥—Ä—É–∑–∏—Ç—å –∏—Ö –≤ DataHolder –∏ –ø–æ—Å—Ç—Ä–æ–∏—Ç—å –≥—Ä–∞—Ñ, –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –æ–ø–∏—Å—ã–≤–∞—é—â–∏–π —ç—Ç–æ—Ç –±–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—Å.
---------- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ —Å –ø–æ–º–æ—â—å—é –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–∞ ----------
–í –ø–æ–ª–Ω–æ–π –≤–µ—Ä—Å–∏–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
–î–∞–Ω–Ω—ã–π –º–æ–¥—É–ª—å –≤ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–º —Ä–µ–∂–∏–º–µ —Å–æ–∑–¥–∞—ë—Ç –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –≤ –≤–∏–¥–µ –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏ —Å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º –¥–∏–∞–≥—Ä–∞–º–º –∏ –≥—Ä–∞—Ñ–∏–∫–æ–≤, –∞ —Ç–∞–∫ –∂–µ –¥–µ–ª–∞–µ—Ç –≤—ã–≤–æ–¥—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤.

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ —Å –ø–æ–º–æ—â—å—é –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–∞ (beta –≤–µ—Ä—Å–∏—è)
----------–¢—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–π Process Mining----------
I. –ú–∞–π–Ω–µ—Ä—ã –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –≥—Ä–∞—Ñ–æ–≤

–î–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –∏ –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ –≥—Ä–∞—Ñ–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞ –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤. –í—Å–µ –æ–Ω–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –º–æ–¥—É–ª–µ sberpm.miners –∏ –∏–º–µ—é—Ç –æ–¥–∏–Ω –º–µ—Ç–æ–¥:

    apply ‚Äì —Å—Ç—Ä–æ–∏—Ç –≥—Ä–∞—Ñ, –∫–æ—Ç–æ—Ä—ã–π —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –ø–æ–ª–µ graph

1. SimpleMiner

SimpleMiner –æ—Ç—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç –≤—Å–µ —Ä–µ–±—Ä–∞, –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –≤ –ª–æ–≥–µ (–±–µ–∑ –∫–∞–∫–æ–π-–ª–∏–±–æ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏).

–í —Ç–µ—Ä–º–∏–Ω–∞—Ö Process Mining:

    –ï—Å–ª–∏ —Ö–æ—Ç—è –±—ã –≤ –æ–¥–Ω–æ–π —Ü–µ–ø–æ—á–∫–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π –∏–∑ –ª–æ–≥–∞ –∑–∞ –Ω–µ–∫–æ—Ç–æ—Ä–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å—é ùëã

–Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ —Å–ª–µ–¥—É–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å ùëå (—Ü–µ–ø–æ—á–∫–∞ –≤–∏–¥–∞ ...ùëãùëå...), —Ç–æ –ø–∏—à—É—Ç ùëã>ùëå (ùëå follows ùëã

    , follows relation).

SimpleMiner —Ä–∏—Å—É–µ—Ç —Ä–µ–±—Ä–∞ –º–µ–∂–¥—É —Ç–∞–∫–∏–º–∏ –ø–∞—Ä–∞–º–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π ùëã
–∏ ùëå, –µ—Å–ª–∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è ùëã>ùëå

.

from sberpm.miners import SimpleMiner

# –°–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞ SimpleMiner. –í –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –ø–æ–¥–∞–µ—Ç—Å—è DataHolder –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∞–ª–≥–æ—Ä–∏—Ç–º–∞

# (—É –¥–∞–Ω–Ω–æ–≥–æ –º–∞–π–Ω–µ—Ä–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –Ω–µ—Ç)

simple_miner = SimpleMiner(data_holder)



# –ó–∞–ø—É—Å–∫ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –≥—Ä–∞—Ñ–∞

simple_miner.apply()



# –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∞

graph = simple_miner.graph

–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –≥—Ä–∞—Ñ–∞

–î–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –≥—Ä–∞—Ñ–∞ —Å–ª–µ–¥—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å GraphvizPainter –∏–∑ –º–æ–¥—É–ª—è sberpm.visual

%matplotlib inline

from sberpm.visual import GraphvizPainter

–ö–ª–∞—Å—Å GraphvizPainter –∏–º–µ–µ—Ç –º–µ—Ç–æ–¥—ã:

    apply ‚Äì –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –Ω–∞ –≤—Ö–æ–¥ –≥—Ä–∞—Ñ, –ø–æ–ª—É—á–µ–Ω–Ω—ã–π —Å –ø–æ–º–æ—â—å—é –º–∞–π–Ω–µ—Ä–∞, –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç —Ä–∞—Å—á–µ—Ç –¥–ª—è –µ–≥–æ –æ—Ç—Ä–∏—Å–æ–≤–∫–∏
    write_graph ‚Äì —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≥—Ä–∞—Ñ –≤ —Ç—Ä–µ–±—É–µ–º–æ–º —Ñ–æ—Ä–º–∞—Ç–µ (pdf, svg, gv, png)
    show ‚Äì –≤—ã–≤–æ–¥–∏—Ç –≥—Ä–∞—Ñ –≤ notebook

# –°–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞ GraphvizPainter

painter = GraphvizPainter()



# –†–∞—Å—á–µ—Ç –≥—Ä–∞—Ñ–∞ –ø–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º —Ä–∞–±–æ—Ç—ã SimpleMiner

painter.apply(graph)



# –ú–æ–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –≥—Ä–∞—Ñ –Ω–∞ –∂–µ—Å—Ç–∫–∏–π –¥–∏—Å–∫ –≤ —Ñ–æ—Ä–º–∞—Ç–µ png, svg, pdf –∏–ª–∏ gv

painter.write_graph('SimpleMiner.png', format='png')



# –ú–æ–∂–Ω–æ –≤—ã–≤—ã–µ—Å—Ç–∏ –≥—Ä–∞—Ñ –≤ notebook

painter.show()

–ö–ª–∞—Å—Å Graph –∏–∑ –º–æ–¥—É–ª—è sberpm.visual –∏–º–µ–µ—Ç –º–µ—Ç–æ–¥—ã:

    get_nodes ‚Äì –ø–æ–ª—É—á–∏—Ç—å –≤—Å–µ —É–∑–ª—ã
    get_edges ‚Äì –ø–æ–ª—É—á–∏—Ç—å –≤—Å–µ —Ä–µ–±—Ä–∞
    add_node_metric ‚Äì –¥–æ–±–∞–≤–∏—Ç—å –º–µ—Ç—Ä–∏–∫—É, —Å–≤—è–∑–∞–Ω–Ω—É—é —Å —É–∑–ª–∞–º–∏ –≥—Ä–∞—Ñ–∞
    add_edge_metric ‚Äì –¥–æ–±–∞–≤–∏—Ç—å –º–µ—Ç—Ä–∏–∫—É, —Å–≤—è–∑–∞–Ω–Ω—É—é —Å —Ä–µ–±—Ä–∞–º–∏ –≥—Ä–∞—Ñ–∞
    clear_node_metrics ‚Äì —É–¥–∞–ª–∏—Ç—å –≤—Å–µ –º–µ—Ç—Ä–∏–∫–∏ —Å –Ω–æ–¥ (—É–∑–ª–æ–≤)
    clear_edge_metrics ‚Äì —É–¥–∞–ª–∏—Ç—å –≤—Å–µ –º–µ—Ç—Ä–∏–∫–∏ —Å —Ä–µ–±–µ—Ä

2. CausalMiner

CausalMiner –æ—Å–Ω–æ–≤–∞–Ω –Ω–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ —Ä–µ–±–µ—Ä.

    –ü—Ä–æ–∏–∑–≤–æ–¥–Ω—ã–µ —Ç–∏–ø—ã —Å–≤—è–∑–µ–π –æ—Ç ùëã>ùëå

    :

    –ø—Ä—è–º—ã–µ —Å–≤—è–∑–∏ (ùëã‚Üíùëå

, causal relation) ‚Äì —ç—Ç–æ —Å–≤—è–∑–∏, –≥–¥–µ –•>ùëå –∏ –Ω–µ ùëå>ùëã
–ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ —Å–≤—è–∑–∏(ùëã‚à•ùëå
, parallel relation) ‚Äì —ç—Ç–æ —Å–≤—è–∑–∏, –≥–¥–µ –•>ùëå –∏ ùëå>ùëã
–Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–µ —Å–≤—è–∑–∏ (ùëã#ùëå
, independent) ‚Äì —ç—Ç–æ —Å–≤—è–∑–∏, –≥–¥–µ –Ω–µ ùëã>ùëå –∏ –Ω–µ ùëå>ùëã

CausalMiner —Ä–∏—Å—É–µ—Ç —Ä–µ–±—Ä–∞ –º–µ–∂–¥—É —Ç–∞–∫–∏–º–∏ –ø–∞—Ä–∞–º–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π ùëã
–∏ ùëå, –µ—Å–ª–∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è ùëã‚Üíùëå

.

from sberpm.miners import CausalMiner

# –ú–∞–π–Ω–µ—Ä

causal_miner = CausalMiner(data_holder)

causal_miner.apply()

graph = causal_miner.graph



# –û—Ç—Ä–∏—Å–æ–≤–∫–∞

painter = GraphvizPainter()

painter.apply(graph)

painter.show()

3. HeuMiner

HeuMiner ‚Äì —ç—Ç–æ —ç–≤—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∏–π –º–∞–π–Ω–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π —É–¥–∞–ª—è–µ—Ç –Ω–∞–∏–±–æ–ª–µ–µ —Ä–µ–¥–∫–∏–µ —Å–≤—è–∑–∏ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∑–∞–¥–∞–≤–∞–µ–º–æ–≥–æ –ø–æ—Ä–æ–≥–∞ (threshold).

–ü–∞—Ä–∞–º–µ—Ç—Ä threshold –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è –æ—Ç 0 –¥–æ 1. –ß–µ–º –æ–Ω –±–æ–ª—å—à–µ, —Ç–µ–º –º–µ–Ω—å—à–µ —Ä–µ–±–µ—Ä –Ω–∞ –≥—Ä–∞—Ñ–µ (–æ—Å—Ç–∞–≤—à–∏–µ—Å—è —Ä–µ–±—Ä–∞ —Å—á–∏—Ç–∞—é—Ç—Å—è –±–æ–ª–µ–µ –≤–∞–∂–Ω—ã–º–∏).

–ò—Å—Ç–æ—á–Ω–∏–∫: https://www.researchgate.net/publication/229124308_Process_Mining_with_the_Heuristics_Miner-algorithm

from sberpm.miners import HeuMiner

# –ú–∞–π–Ω–µ—Ä

heu_miner = HeuMiner(data_holder, threshold=0.8)

heu_miner.apply()

graph = heu_miner.graph



# –û—Ç—Ä–∏—Å–æ–≤–∫–∞

painter = GraphvizPainter()

painter.apply(graph)

painter.show()

4. AlphaMiner

AlphaMiner —Ä–∏—Å—É–µ—Ç –≥—Ä–∞—Ñ –≤ –≤–∏–¥–µ —Å–µ—Ç–µ–π –ü–µ—Ç—Ä–∏ —Å —É—á–µ—Ç–æ–º –ø—Ä—è–º—ã—Ö, –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –∏ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã—Ö —Å–≤—è–∑–µ–π –º–µ–∂–¥—É –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—è–º–∏.

from sberpm.miners import AlphaMiner

# –ú–∞–π–Ω–µ—Ä

alpha_miner = AlphaMiner(data_holder)

alpha_miner.apply()

graph = alpha_miner.graph



# –û—Ç—Ä–∏—Å–æ–≤–∫–∞

painter = GraphvizPainter()

painter.apply(graph)

painter.show()

5. AlphaPlusMiner

AlphaPlusMiner ‚Äì –∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏—è Alpha+ –º–∞–π–Ω–µ—Ä–∞, –∫–æ—Ç–æ—Ä—ã–π —Ç–∞–∫–∂–µ —Ä–∏—Å—É–µ—Ç –≥—Ä–∞—Ñ –≤ –≤–∏–¥–µ —Å–µ—Ç–µ–π –ü–µ—Ç—Ä–∏ —Å —É—á–µ—Ç–æ–º —Å–≤—è–∑–µ–π, –Ω–æ –≤ –æ—Ç–ª–∏—á–∏–µ –æ—Ç AlphaMiner –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å –æ–¥–Ω–æ—Ü–∏–∫–ª–æ–≤—ã–º–∏ (one-loop) —Ü–µ–ø–æ—á–∫–∞–º–∏ –≤–∏–¥–∞ activity_1‚Üí

activity_1 (—Å–∞–º–æ—Ü–∏–∫–ª).

from sberpm.miners import AlphaPlusMiner

# –ú–∞–π–Ω–µ—Ä

alpha_miner_plus = AlphaPlusMiner(data_holder)

alpha_miner_plus.apply()

graph = alpha_miner_plus.graph



# –û—Ç—Ä–∏—Å–æ–≤–∫–∞

painter = GraphvizPainter()

painter.apply(graph)

painter.show()

6. InductiveMiner

InductiveMiner —Å–æ–∑–¥–∞—ë—Ç –¥–µ—Ä–µ–≤–æ –ø—Ä–æ—Ü–µ—Å—Å–∞. –õ–∏—Å—å—è –¥–µ—Ä–µ–≤–∞ - —Ä–µ–∞–ª—å–Ω—ã–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞, –æ—Å—Ç–∞–ª—å–Ω—ã–µ –≤–µ—Ä—à–∏–Ω—ã - –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã. –ï—Å—Ç—å 4 —Ç–∏–ø–∞ –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤:

    –ü–û–°–õ–ï–î–û–í–ê–¢–ï–õ–¨–ù–´–ô (->),
    –ò–°–ö–õ–Æ–ß–ê–Æ–©–ï–ï –ò–õ–ò (X),
    –ü–ê–†–ê–õ–õ–ï–õ–¨–ù–´–ô (||),
    –¶–ò–ö–õ (*).

–ï—Å—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π '–æ–ø–µ—Ä–∞—Ç–æ—Ä', –∫–æ—Ç–æ—Ä—ã–π –≥–æ–≤–æ—Ä–∏—Ç –æ —Ç–æ–º, —á—Ç–æ –±—ã–ª–æ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –Ω–∏ –æ–¥–∏–Ω –∏–∑ 4 –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã—Ö –≤—ã—à–µ:

    –°–ú–ï–®–ï–ù–ù–ê–Ø –ú–û–î–ï–õ–¨ ('?')

–ó–∞–º–µ—á–∞–Ω–∏–µ: –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –∏–∑ –ª–∏—Å—Ç—å–µ–≤ –¥–µ—Ä–µ–≤–∞ –º–æ–≥—É—Ç –±—ã—Ç—å —Å–∫—Ä—ã—Ç—ã–º–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—è–º–∏, –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º—ã–º–∏ —á—ë—Ä–Ω—ã–º–∏ –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫–∞–º–∏. –û–Ω–∏ –Ω–µ —è–≤–ª—è—é—Ç—Å—è —Ä–µ–∞–ª—å–Ω—ã–º–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—è–º–∏ –∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–µ—Ä–µ–≤–∞.

–ù–∞–ø—Ä–∏–º–µ—Ä, –∏–∑ –ª–æ–≥–∞, —Å–æ—Å—Ç–æ—è—â–µ–≥–æ –∏–∑ –¥–≤—É—Ö —Ü–µ–ø–æ—á–µ–∫ –ø—Ä–æ—Ü–µ—Å—Å–∞ ùëä={(ùëé,ùëè,ùëê),(ùëé,ùëê)}

, –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å —Å–ª–µ–¥—É—é—â–µ–µ –¥–µ—Ä–µ–≤–æ –ø—Ä–æ—Ü–µ—Å–∞:
->(a, X(b, —Å–∫—Ä—ã—Ç–∞—è_–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å), c).

–ï—Å–ª–∏ –≤–æ –≤—Ä–µ–º—è –æ—á–µ—Ä–µ–¥–Ω–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏ –∞–ª–≥–æ—Ä–∏—Ç–º –Ω–µ –º–æ–∂–µ—Ç –Ω–∞–π—Ç–∏ —Ä–∞–∑—Ä–µ–∑ –≥—Ä–∞—Ñ–∞ (=–ø–æ–¥–æ–±—Ä–∞—Ç—å –æ–¥–∏–Ω –∏–∑ 4 –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤), –≤–æ–∑–º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Å–ª–µ–¥—É—é—â–µ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ: –µ—Å–ª–∏ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ê, –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –∫–æ—Ç–æ—Ä–æ–π —É–¥–∞—ë—Ç—Å—è –ø–æ–¥–æ–±—Ä–∞—Ç—å –æ–ø–µ—Ä–∞—Ç–æ—Ä, –∞–ª–≥–æ—Ä–∏—Ç–º –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ª–µ–¥—É—é—â–µ–µ –¥–µ—Ä–µ–≤–æ:
||(X(–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å_–ê, —Å–∫—Ä—ã—Ç–∞—è_–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å), –≥—Ä–∞—Ñ_–±–µ–∑_–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏_–ê) - —Ç–æ –µ—Å—Ç—å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ê —Å—á–∏—Ç–∞–µ—Ç—Å—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–π –æ—Å—Ç–∞–ª—å–Ω–æ–º—É –≥—Ä–∞—Ñ—É.

–≠—Ç–æ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤–∫–ª—é—á–µ–Ω–æ –∏–ª–∏ –≤—ã–∫–ª—é—á–µ–Ω–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º parallel_activity –≤ –∫–ª–∞—Å—Å–µ InductiveMiner.

from sberpm.miners import InductiveMiner

# Miner

inductive_miner = InductiveMiner(data_holder)

inductive_miner.apply()

graph = inductive_miner.graph



# Visualization

painter = GraphvizPainter()

painter.apply(graph)

painter.show()

7. ML-miners

from sberpm.miners import MLMiner

ML-miner - –º–∞–π–Ω–µ—Ä –æ—Å–Ω–æ–≤–∞–Ω–Ω—ã–π –Ω–∞ lasso-—Ä–µ–≥—Ä–µ—Å—Å–∏–∏.

–í –¥–∞–Ω–Ω–æ–º –º–∞–π–Ω–µ—Ä–µ –ø–æ–¥—Å—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–π –∫–∞–∂–¥–æ–≥–æ —ç—Ç–∞–ø–∞ –≤ –∫–∞–∂–¥–æ–º –ø—Ä–æ—Ü–µ—Å—Å–µ. –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –ª–∞—Å—Å–æ-—Ä–µ–≥—Ä–µ—Å—Å–∏—è, –≤ –∫–æ—Ç–æ—Ä–æ–π —Å—Ç–æ–ª–±–µ—Ü –æ–¥–Ω–æ–≥–æ –≤–∏–¥–∞ –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç—Å—è –∫–∞–∫ —Ü–µ–ª—å, –∞ –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Å—Ç–æ–ª–±—Ü—ã –¥—Ä—É–≥–∏—Ö –≤–∏–¥–æ–≤ –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ - –∫–∞–∫ –ø—Ä–∏–∑–Ω–∞–∫–∏. –ù–∞ —Ä–µ–±—Ä–∞—Ö –≥—Ä–∞—Ñ–∞ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ —Ç–µ –æ—Ç–Ω–æ—à–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –∏–º–µ—é—Ç –∞–±—Å–æ–ª—é—Ç–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–∞ –ª–∞—Å—Å–æ-—Ä–µ–≥—Ä–µ—Å—Å–∏–∏ –±–æ–ª—å—à–µ, —á–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ—Ä–æ–≥–æ–≤–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è.

ML-miner —Ä–∏—Å—É–µ—Ç —Ä–µ–±—Ä–∞ –º–µ–∂–¥—É —Ç–∞–∫–∏–º–∏ –ø–∞—Ä–∞–º–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π ùëã
–∏ ùëå, –µ—Å–ª–∏ ùëã –≤–ª–∏—è–µ—Ç –Ω–∞ ùëå

.

    data_holder : DataHolder –û–±—ä–µ–∫—Ç, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π –∂—É—Ä–Ω–∞–ª —Å–æ–±—ã—Ç–∏–π –∏ –∏–º–µ–Ω–∞ –µ–≥–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –∫–æ–ª–æ–Ω–æ–∫.

    threshold: float (–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é 0.05) –ü–æ—Ä–æ–≥ –∞–±—Å–æ–ª—é—Ç–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–∞ —Ä–µ–≥—Ä–µ—Å—Å–∏–∏. –ó–Ω–∞—á–µ–Ω–∏—è –ø—Ä–µ–≤—ã—à–∞—é—â–∏–µ –ø–æ—Ä–æ–≥–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ, —Å—á–∏—Ç–∞—é—Ç—Å—è –∑–Ω–∞—á–∏–º—ã–º–∏ —Å–≤—è–∑—è–º–∏ –º–µ–∂–¥—É –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é.

# Miner

ml_miner = MLMiner(data_holder, threshold=0.1)

ml_miner.apply()

graph = ml_miner.graph



# Visualization

painter = GraphvizPainter()

painter.apply(graph)

painter.show()

Auto-miner

Auto-miner –æ—Å–Ω–æ–≤–∞–Ω –Ω–∞ Sequence Feature Selector.

Auto-miner —Ä–∏—Å—É–µ—Ç —Ä–µ–±—Ä–∞ –º–µ–∂–¥—É —Ç–∞–∫–∏–º–∏ –ø–∞—Ä–∞–º–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π ùëã
–∏ ùëå, –µ—Å–ª–∏ ùëã –≤–ª–∏—è–µ—Ç –Ω–∞ ùëå

.

    data_holder : DataHolder –û–±—ä–µ–∫—Ç, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π –∂—É—Ä–Ω–∞–ª —Å–æ–±—ã—Ç–∏–π –∏ –∏–º–µ–Ω–∞ –µ–≥–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö —Å—Ç–æ–ª–±—Ü–æ–≤.

from sberpm.miners import AutoMiner

# Miner

autominer = AutoMiner(data_holder)

autominer.apply()

graph = autominer.graph



# Visualization

painter = GraphvizPainter()

painter.apply(graph)

painter.show()

8. NLP-miner
–í –ø–æ–ª–Ω–æ–π –≤–µ—Ä—Å–∏–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏

NLP-miner –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —ç—Ç–∞–ø–æ–≤ –ø—Ä–æ—Ü–µ—Å—Å–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫—É navec.

NLP-miner –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ ùëã
–∏ ùëå –∏ —É–¥–∞–ª—è–µ—Ç —Ä–µ–±—Ä–∞ –º–µ–∂–¥—É ùëã –∏ ùëå, –µ—Å–ª–∏ –Ω–∞–∑–≤–∞–Ω–∏–µ ùëã –ø–æ—Ö–æ–∂–µ –Ω–∞ ùëå

.
9. Correlation-miner

Correlation-miner –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞—Ç—å –≥—Ä–∞—Ñ –∂—É—Ä–Ω–∞–ª–∞ —Å–æ–±—ã—Ç–∏–π, –≤ –∫–æ—Ç–æ—Ä–æ–º –Ω–µ—Ç –≥—Ä–∞—Ñ—ã ID —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞.

–ì—Ä–∞—Ñ –±—É–¥–µ—Ç –∏–º–µ—Ç—å –º–µ—Ç—Ä–∏–∫—É 'count' –¥–ª—è —É–∑–ª–æ–≤ –∏ —Ä–µ–±–µ—Ä.

Correlation-miner –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ª–∏–Ω–µ–π–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ, —á—Ç–æ–±—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —É—Ç—Ä–∞—á–µ–Ω–Ω—ã–µ —ç–∫–∑–µ–º–ø–ª—è—Ä—ã –ø—Ä–æ—Ü–µ—Å—Å–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤—Ä–µ–º–µ–Ω–∏ –∫–∞–∂–¥–æ–≥–æ —ç—Ç–∞–ø–∞.

    data_holder: DataHolder –û–±—ä–µ–∫—Ç, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π –∂—É—Ä–Ω–∞–ª —Å–æ–±—ã—Ç–∏–π –∏ –∏–º–µ–Ω–∞ –µ–≥–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –∫–æ–ª–æ–Ω–∫–∏.

    greedy: bool, default=True –ï—Å–ª–∏ True, –º–∞—Ç—Ä–∏—Ü–∞ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –∂–∞–¥–Ω—ã–º —Å–ø–æ—Å–æ–±–æ–º. –°—É—â–µ—Å—Ç–≤—É–µ—Ç –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å, —á—Ç–æ —Ä–µ—à–µ–Ω–∏–µ –Ω–µ –±—É–¥–µ—Ç –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–º, –Ω–æ —ç—Ç–æ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —Å–æ–∫—Ä–∞—â–∞–µ—Ç –≤—Ä–µ–º—è –∏ –ø–∞–º—è—Ç—å –¥–ª—è –±–æ–ª—å—à–∏—Ö –∂—É—Ä–Ω–∞–ª–æ–≤.

    sparse: bool, default=False –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ greedy=False. –ï—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ True, –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ –º–∞—Ç—Ä–∏—Ü—ã –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –±—É–¥–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—å—Å—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Ä–∞–∑—Ä–µ–∂–µ–Ω–Ω–æ–π –º–∞—Ç—Ä–∏—Ü—ã. –≠—Ç–æ –º–æ–∂–µ—Ç –Ω–µ–º–Ω–æ–≥–æ —É–≤–µ–ª–∏—á–∏—Ç—å –≤—Ä–µ–º—è –≤—ã—á–∏—Å–ª–µ–Ω–∏–π, –Ω–æ –Ω–µ–º–Ω–æ–≥–æ —É–º–µ–Ω—å—à–∏—Ç—å –ø–∞–º—è—Ç—å.

from sberpm.miners import CorrelationMiner


# Miner

corr_miner = CorrelationMiner(data_holder)

corr_miner.apply()

graph = corr_miner.graph

# Visualization

painter = GraphvizPainter()

painter.apply(graph)

painter.show()

10. II-miner

–ú–∞–π–Ω–µ—Ä –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π. –ü–æ–¥—Å—á–∏—Ç—ã–≤–∞–µ—Ç –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏—è –ø–æ –≤—Ä–µ–º–µ–Ω–Ω—ã–º –º–µ—Ç–∫–∞–º –¥–µ–π—Å—Ç–≤–∏–π. –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ —ç—Ç–∞–ø—ã - —ç—Ç–æ —ç—Ç–∞–ø—ã —Å —Ç–∞–∫–∏–º–∏ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞–º–∏ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤, —á—Ç–æ –≤—Ä–µ–º—è –∏—Ö –Ω–∞—á–∞–ª–∞ –∏ –æ–∫–æ–Ω—á–∞–Ω–∏—è –ø–µ—Ä–µ–∫—Ä—ã–≤–∞–µ—Ç—Å—è. –î–æ–±–∞–≤–ª–µ–Ω —É–∑–µ–ª parallel_metric, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–π –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ —ç—Ç–æ–º —ç—Ç–∞–ø–µ –∏ –¥—Ä—É–≥–∏—Ö —ç—Ç–∞–ø–∞—Ö. –û—Ç —Å–∏–Ω–∏—Ö —É–∑–ª–æ–≤ —Å—Ç—Ä–µ–ª–∫–∏ —É–∫–∞–∑—ã–≤–∞—é—Ç –Ω–∞ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ —ç—Ç–∞–ø—ã.

–ü–∞—Ä–∞–º–µ—Ç—Ä—ã: data_holder: DataHolder –û–±—ä–µ–∫—Ç, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π –∂—É—Ä–Ω–∞–ª —Å–æ–±—ã—Ç–∏–π –∏ –∏–º–µ–Ω–∞ –µ–≥–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö —Å—Ç–æ–ª–±—Ü–æ–≤.

–ê—Ä–≥—É–º–µ–Ω—Ç—ã: graph: –¥–æ–±—ã—Ç—ã–π –≥—Ä–∞—Ñ–∏–∫ –ø—Ä–æ—Ü–µ—Å—Å–∞ –¥–ª—è —Ä–∏—Å–æ–≤–∞–Ω–∏—è

from sberpm.miners import ParallelMiner

# Miner

parallel_miner = ParallelMiner(data_holder)

parallel_miner.apply()

graph = parallel_miner.graph

# Visualization

painter = GraphvizPainter()

painter.apply(graph)

painter.show()

II. –ú–µ—Ç—Ä–∏–∫–∏

–ù–∞ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –≤ –º–æ–¥—É–ª–µ sberpm.metrics –µ—Å—Ç—å 5 –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ç–∏–ø–æ–≤ –º–µ—Ç—Ä–∏–∫:

    ActivityMetric ‚Äì –º–µ—Ç—Ä–∏–∫–∏ –ø–æ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—è–º (–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ activity_column)
    TransitionMetric ‚Äì –º–µ—Ç—Ä–∏–∫–∏ –ø–æ –ø–µ—Ä–µ—Ö–æ–¥–∞–º (–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã–º –ø–µ—Ä–µ—Ö–æ–¥–∞–º)
    IdMetric‚Äì –º–µ—Ç—Ä–∏–∫–∏ –ø–æ id (–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ id_column)
    TraceMetric ‚Äì –º–µ—Ç—Ä–∏–∫–∏ –ø–æ —Ü–µ–ø–æ—á–∫–∞–º –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π (–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã–º —Ü–µ–ø–æ—á–∫–∞–º)
    UserMetric ‚Äì –º–µ—Ç—Ä–∏–∫–∏ –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º (–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ user_column)

from sberpm.metrics import ActivityMetric, TransitionMetric, IdMetric, TraceMetric, UserMetric

–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:

    data_holder ‚Äì –æ–±—ä–µ–∫—Ç —Ç–∏–ø–∞ DataHolder, –¥–ª—è –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω–∞–¥–æ —Ä–∞—Å—Å—á–∏—Ç–∞—Ç—å –º–µ—Ç—Ä–∏–∫–∏
    time_unit ‚Äì –µ–¥–∏–Ω–∏—Ü–∞ –≤—Ä–µ–º–µ–Ω–∏, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Ä–∞—Å—á–µ—Ç –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –º–µ—Ç—Ä–∏–∫ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ —á–∞—Å–∞—Ö
    round ‚Äì –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ü–∏—Ñ—Ä –ø–æ—Å–ª–µ –∑–∞–ø—è—Ç–æ–π (—Ç–æ–ª—å–∫–æ –¥–ª—è –º–µ—Ç—Ä–∏–∫, –∑–Ω–∞—á–µ–Ω–∏—è –∫–æ—Ç–æ—Ä—ã—Ö –º–æ–≥—É—Ç –±—ã—Ç—å —Å –ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π)

–û–±—â–∏–µ –º–µ—Ç–æ–¥—ã –¥–ª—è –≤—Å–µ—Ö –∫–ª–∞—Å—Å–æ–≤:

    apply ‚Äì —Ä–∞—Å—á–µ—Ç –≤—Å–µ—Ö —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫

    calc_metrics(...) ‚Äì —Ä–∞—Å—á–µ—Ç —É–∫–∞–∑–∞–Ω–Ω—ã—Ö –º–µ—Ç—Ä–∏–∫ (—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –º–µ—Ç–æ–¥–∞–º/–Ω–∞–∑–≤–∞–Ω–∏—è–º –∫–æ–ª–æ–Ω–æ–∫ –≤ DataFrame –∏–∑ apply)

    calculate_time_metrics ‚Äì —Ä–∞—Å—á–µ—Ç –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫

    total_duration ‚Äì —Ä–∞—Å—á–µ—Ç —Å—É–º–º–∞—Ä–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ —Ä–∞–±–æ—Ç—ã

    min_duration ‚Äì —Ä–∞—Å—á–µ—Ç –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ —Ä–∞–±–æ—Ç—ã

    max_duration ‚Äì —Ä–∞—Å—á–µ—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ —Ä–∞–±–æ—Ç—ã

    mean_duration ‚Äì —Ä–∞—Å—á–µ—Ç —Å—Ä–µ–¥–Ω–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ —Ä–∞–±–æ—Ç—ã

    median_duration ‚Äì —Ä–∞—Å—á–µ—Ç –º–µ–¥–∏–∞–Ω–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ —Ä–∞–±–æ—Ç—ã

    std_duration ‚Äì —Ä–∞—Å—á–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏ —Ä–∞–±–æ—Ç—ã

    var_duration ‚Äì —Ä–∞—Å—á–µ—Ç –¥–∏—Å–ø–µ—Ä—Å–∏–∏ –≤—Ä–µ–º–µ–Ω–∏ —Ä–∞–±–æ—Ç—ã

–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã:

    ActivityMetric
        count - —Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –≤—Å—Ç—Ä–µ—á–∞–µ—Ç—Å—è –≤ –ª–æ–≥–µ
        unique_ids - —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ id –¥–ª—è –∫–∞–∂–¥–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
        unique_ids_num - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö id –¥–ª—è –∫–∞–∂–¥–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
        aver_count_in_trace - —Å—Ä–µ–¥–Ω–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–∞–∑ –≤—Å—Ç—Ä–µ—á–∞–µ–º–æ—Å—Ç–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –≤ —Ü–µ–ø–æ—á–∫–µ
        loop_percent - –ø—Ä–æ—Ü–µ–Ω—Ç –∑–∞—Ü–∏–∫–ª–µ–Ω–Ω–æ—Å—Ç–∏
        throughput - —á–∞—Å—Ç–æ—Ç–∞ - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π –∑–∞ –µ–¥–∏–Ω–∏—Ü—É –≤—Ä–µ–º–µ–Ω–∏
        unique_users - —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, —Ä–∞–±–æ—Ç–∞–≤—à–∏–µ —Å –¥–∞–Ω–Ω–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å—é
        unique_users_num - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, —Ä–∞–±–æ—Ç–∞—é—â–∏—Ö –Ω–∞–¥ –¥–∞–Ω–Ω–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å—é
        success_rate(...) - –¥–æ–ª—è id, –∏–º–µ—é—â–∏—Ö –¥–∞–Ω–Ω—É—é –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å, –∫–æ—Ç–æ—Ä–∞—è –≤—ã–ø–æ–ª–Ω–∏–ª–∞—Å—å —É—Å–ø–µ—à–Ω–æ (–∑–∞–∫–æ–Ω—á–∏–ª–∏—Å—å —É—Å–ø–µ—à–Ω—ã–º–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—è–º–∏)
        failure_rate(...) - –¥–æ–ª—è id, –∏–º–µ—é—â–∏—Ö –¥–∞–Ω–Ω—É—é –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å, –∫–æ—Ç–æ—Ä–∞—è –≤—ã–ø–æ–ª–Ω–∏–ª–∞—Å—å –Ω–µ—É—Å–ø–µ—à–Ω–æ (–∑–∞–∫–æ–Ω—á–∏–ª–∏—Å—å –Ω–µ—É—Å–ø–µ—à–Ω—ã–º–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—è–º–∏)

    IdMetric
        trace - —Ü–µ–ø–æ—á–∫–∞ (—Å–ø–∏—Å–æ–∫ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π)
        trace_length - –¥–ª–∏–Ω–∞ —Ü–µ–ø–æ—á–∫–∏ (–∫–æ–ª-–≤–æ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π –≤ —Ü–µ–ø–æ—á–∫–µ)
        unique_activities - —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –≤ —Ü–µ–ø–æ—á–∫–µ
        unique_activities_num - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π –≤ —Ü–µ–ø–æ—á–∫–µ
        loop_percent - –ø—Ä–æ—Ü–µ–Ω—Ç –∑–∞—Ü–∏–∫–ª–µ–Ω–Ω–æ—Å—Ç–∏
        unique_users - —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, —Ä–∞–±–æ—Ç–∞—é—â–∏–µ —Å —ç—Ç–∏–º ID
        unique_users_num - –∫–æ–ª-–≤–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, —Ä–∞–±–æ—Ç–∞–≤—à–∏—Ö —Å –¥–∞–Ω–Ω—ã–º ID

    TraceMetric
        count - —Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ –¥–∞–Ω–Ω–∞—è —Ü–µ–ø–æ—á–∫–∞ –≤—Å—Ç—Ä–µ—á–∞–µ—Ç—Å—è –≤ –ª–æ–≥–µ
        ids - —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ id —Å –¥–∞–Ω–Ω–æ–π —Ü–µ–ø–æ—á–∫–æ–π
        trace_length - –¥–ª–∏–Ω–∞ —Ü–µ–ø–æ—á–∫–∏ (–∫–æ–ª-–≤–æ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π –≤ —Ü–µ–ø–æ—á–∫–µ)
        unique_activities - —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –≤ —Ü–µ–ø–æ—á–∫–µ
        unique_activities_num - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π –≤ —Ü–µ–ø–æ—á–∫–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π
        unique_users - —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, —Ä–∞–±–æ—Ç–∞—é—â–∏–µ –Ω–∞–¥ —Ü–µ–ø–æ—á–∫–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π
        unique_users_num - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, —Ä–∞–±–æ—Ç–∞—é—â–∏—Ö –Ω–∞–¥ —Ü–µ–ø–æ—á–∫–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π

    TransitionMetric
        count - —Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ –¥–∞–Ω–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ –≤—Å—Ç—Ä–µ—á–∞–µ—Ç—Å—è –≤ –ª–æ–≥–µ
        unique_ids - —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ id –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–µ—Ä–µ—Ö–æ–¥–∞
        unique_ids_num - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö id –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–µ—Ä–µ—Ö–æ–¥–∞
        aver_count_in_trace - —Å—Ä–µ–¥–Ω–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–∞–∑ –≤—Å—Ç—Ä–µ—á–∞–µ–º–æ—Å—Ç–∏ –æ–±—ä–µ–∫—Ç–∞ –≤ —Ü–µ–ø–æ—á–∫–µ
        loop_percent - –ø—Ä–æ—Ü–µ–Ω—Ç –∑–∞—Ü–∏–∫–ª–µ–Ω–Ω–æ—Å—Ç–∏
        throughput - —á–∞—Å—Ç–æ—Ç–∞ - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ –∑–∞ –µ–¥–∏–Ω–∏—Ü—É –≤—Ä–µ–º–µ–Ω–∏
        unique_users - —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, —Ä–∞–±–æ—Ç–∞—é—â–∏–µ –Ω–∞–¥ –æ–±—ä–µ–∫—Ç–æ–º
        unique_users_num - –∫–æ–ª-–≤–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, —Ä–∞–±–æ—Ç–∞—é—â–∏—Ö –Ω–∞–¥ –æ–±—ä–µ–∫—Ç–æ–º
        success_rate(...) - –¥–æ–ª—è id, –∏–º–µ—é—â–∏—Ö —Ç–µ–∫—É—â–∏–π –ø–µ—Ä–µ—Ö–æ–¥, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã–ø–æ–ª–Ω–∏–ª–∏—Å—å —É—Å–ø–µ—à–Ω–æ (–∑–∞–∫–æ–Ω—á–∏–ª–∏—Å—å —É—Å–ø–µ—à–Ω—ã–º–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—è–º–∏)
        failure_rate(...) - –¥–æ–ª—è id, –∏–º–µ—é—â–∏—Ö —Ç–µ–∫—É—â–∏–π –ø–µ—Ä–µ—Ö–æ–¥, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã–ø–æ–ª–Ω–∏–ª–∏—Å—å –Ω–µ—É—Å–ø–µ—à–Ω–æ (–∑–∞–∫–æ–Ω—á–∏–ª–∏—Å—å –Ω–µ—É—Å–ø–µ—à–Ω—ã–º–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—è–º–∏)

    UserMetric
        count - —Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ –¥–∞–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—Å—Ç—Ä–µ—á–∞–µ—Ç—Å—è –≤ –ª–æ–≥–µ
        unique_activities - —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏, —Å –∫–æ—Ç–æ—Ä—ã–º–∏ —Ä–∞–±–æ—Ç–∞–ª –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
        unique_activities_num - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π, —Å –∫–æ—Ç–æ—Ä—ã–º–∏ —Ä–∞–±–æ—Ç–∞–ª –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
        unique_ids - —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ id —Å –¥–∞–Ω–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
        unique_ids_num - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö id —Å –¥–∞–Ω–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
        throughput - —á–∏—Å–ª–æ —Ä–∞–∑ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞ –∑–∞ –µ–¥–∏–Ω–∏—Ü—É –≤—Ä–µ–º–µ–Ω–∏
        workload - –¥–æ–ª—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ª–æ–≥–∞, –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º

1. ActivityMetric

# –°–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞ ActivityMetric

activity_metric = ActivityMetric(data_holder, time_unit='d')

# –†–∞—Å—á–µ—Ç –≤—Å–µ—Ö –º–µ—Ç—Ä–∏–∫

activity_metric.apply().head()

2. TransitionMetric

# –°–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞ TransitionMetric

transition_metric = TransitionMetric(data_holder, time_unit='d')

# –†–∞—Å—á–µ—Ç –≤—Å–µ—Ö –º–µ—Ç—Ä–∏–∫

transition_metric.apply().head()

3. IdMetric

# –°–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞ IdMetric

id_metric = IdMetric(data_holder, time_unit='d')

# –†–∞—Å—á–µ—Ç –≤—Å–µ—Ö –º–µ—Ç—Ä–∏–∫

id_metric.apply().head()

4. TraceMetric

# –°–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞ TraceMetric

trace_metric = TraceMetric(data_holder, time_unit='d')

# –†–∞—Å—á–µ—Ç –≤—Å–µ—Ö –º–µ—Ç—Ä–∏–∫

trace_metric.apply().head()

5. UserMetric

# –°–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞ UserMetric

user_metric = UserMetric(data_holder, time_unit='d')

# –†–∞—Å—á–µ—Ç –≤—Å–µ—Ö –º–µ—Ç—Ä–∏–∫

user_metric.apply().head()

–ú–µ—Ç—Ä–∏–∫–∏ + –≥—Ä–∞—Ñ—ã

–í –±–∏–±–ª–∏–æ—Ç–µ–∫–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç—å —Ä—è–¥ –º–µ—Ç—Ä–∏–∫ –Ω–∞ –≥—Ä–∞—Ñ–µ. –°–¥–µ–ª–∞—Ç—å —ç—Ç–æ –º–æ–∂–Ω–æ –≤ –∫–ª–∞—Å—Å–µ Graph —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–æ–≤:

    add_node_metric ‚Äì –¥–æ–±–∞–≤–∏—Ç—å –º–µ—Ç—Ä–∏–∫—É, —Å–≤—è–∑–∞–Ω–Ω—É—é —Å —É–∑–ª–∞–º–∏ –≥—Ä–∞—Ñ–∞
    add_edge_metric ‚Äì –¥–æ–±–∞–≤–∏—Ç—å –º–µ—Ç—Ä–∏–∫—É, —Å–≤—è–∑–∞–Ω–Ω—É—é —Å —Ä–µ–±—Ä–∞–º–∏ –≥—Ä–∞—Ñ–∞

# –†–∞—Å—á–µ—Ç –º–µ—Ç—Ä–∏–∫

nodes_count_metric = activity_metric.count().to_dict()

edges_count_metric = transition_metric.count().to_dict()

mean_time_node_metric = activity_metric.mean_duration().fillna(0).to_dict()

# –ü–æ–ª—É—á–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∞ –∏–∑ –º–∞–π–Ω–µ—Ä–∞

graph = causal_miner.graph

# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫ –Ω–∞ –≥—Ä–∞—Ñ

graph.add_node_metric('count', nodes_count_metric)

graph.add_edge_metric('count', edges_count_metric)

graph.add_node_metric('mean_time', mean_time_node_metric)

# –°–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞ GraphvizPainter

painter = GraphvizPainter()

# –û—Ç—Ä–∏—Å–æ–≤–∞—Ç—å –≥—Ä–∞—Ñ –∏ —Å–≤—è–∑–∞—Ç—å —Ü–≤–µ—Ç —É–∑–ª–æ–≤ –∏ —Ä–µ–±–µ—Ä —Å –Ω—É–∂–Ω—ã–º–∏ –º–µ—Ç—Ä–∏–∫–∞–º–∏

painter.apply(graph, node_style_metric='count', edge_style_metric='count')

# –∏–ª–∏ painter.apply(graph, node_style_metric='mean_time', edge_style_metric='count')

# –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∞

painter.write_graph("metric_graph.png", format = 'png')

# –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ jupyter-notebook

painter.show()

–ß—Ç–æ–±—ã —É–¥–∞–ª–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏ —Å –≥—Ä–∞—Ñ–∞, —Å–ª–µ–¥—É–µ—Ç –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Å–ª–µ–¥—É—é—â–∏–º–∏ –º–µ—Ç–æ–¥–∞–º–∏:

    clear_node_metrics ‚Äì —É–¥–∞–ª–∏—Ç—å –≤—Å–µ –º–µ—Ç—Ä–∏–∫–∏ —Å –Ω–æ–¥ (—É–∑–ª–æ–≤)
    clear_edge_metrics ‚Äì —É–¥–∞–ª–∏—Ç—å –≤—Å–µ –º–µ—Ç—Ä–∏–∫–∏ —Å —Ä–µ–±–µ—Ä

graph.clear_node_metrics()

graph.clear_edge_metrics()

III. Conformance Checking
TokenReplay

TokenReplay –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ä–∞—Å—Å—á–∏—Ç–∞—Ç—å fitness, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, –Ω–∞—Å–∫–æ–ª—å–∫–æ —Ö–æ—Ä–æ—à–æ –≥—Ä–∞—Ñ –æ–ø–∏—Å—ã–≤–∞–µ—Ç –±–∏–∑–Ω–µ—Å—Å-–ø—Ä–æ—Ü–µ—Å—Å (1 ‚Äì —Ö–æ—Ä–æ—à–æ, 0 ‚Äì –ø–ª–æ—Ö–æ). Fitness –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ –¥–ª—è –∫–∞–∂–¥–æ–π —Ü–µ–ø–æ—á–∫–∏ (id) –ø—Ä–∏ –µ–µ –ø—Ä–æ–∏–≥—Ä—ã–≤–∞–Ω–∏–∏ –ø–æ —Å–µ—Ç–∏ –ü–µ—Ç—Ä–∏ –ø–æ —Å–ª–µ–¥—É—é—â–µ–π —Ñ–æ—Ä–º—É–ª–µ:
ùêπùëñùë°ùëõùëíùë†ùë†=12(1‚àíùëöùëñùë†ùë†ùëíùëëùëêùëúùëõùë†ùë¢ùëöùëíùëë)+12(1‚àíùëüùëíùëöùëéùëñùëõùëñùëõùëîùëùùëüùëúùëëùë¢ùëêùëíùëë)

    produced tokens ‚Äì –ø–æ—è–≤–∏–ª–∏—Å—å –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –ø–µ—Ä–µ—Ö–æ–¥–∞
    consumed tokens ‚Äì —É–¥–∞–ª–∏–ª–∏—Å—å –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –ø–µ—Ä–µ—Ö–æ–¥–∞
    remaining tokens ‚Äì –æ—Å—Ç–∞–ª–∏—Å—å –≤ –∫–æ–Ω—Ü–µ –ø—Ä–æ–∏–≥—Ä—ã–≤–∞–Ω–∏—è
    missing tokens ‚Äì –Ω–µ –±—ã–ª–æ, –Ω–æ –æ–Ω–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã –¥–ª—è –ø—Ä–æ–∏–≥—Ä—ã–≤–∞–Ω–∏—è, –ø–æ—ç—Ç–æ–º—É –∏—Ö –≤—Å—Ç–∞–≤–ª—è—é—Ç

–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –≤—ã–¥–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –º–µ—Ç—Ä–∏–∫–∏:

    –∑–Ω–∞—á–µ–Ω–∏—è 4 –≤–µ–ª–∏—á–∏–Ω –∏ fitness –∫–∞–∂–¥–æ–π —Ü–µ–ø–æ—á–∫–∏
    —É—Å—Ä–µ–¥–Ω–µ–Ω–Ω—ã–π fitness –ø–æ –≤—Å–µ–º —Ü–µ–ø–æ—á–∫–∞–º (mean_fitness)
    fitness –ø–æ –≤—Å–µ–º—É –ª–æ–≥—É ‚Äì –≤ —Ñ–æ—Ä–º—É–ª—É –ø–æ–¥—Å—Ç–∞–≤–ª—è—é—Ç—Å—è —Å—É–º–º–∞—Ä–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è 4 –≤–µ–ª–∏—á–∏–Ω –ø–æ –≤—Å–µ–º —Ü–µ–ø–æ—á–∫–∞–º –≤ –ª–æ–≥–µ (average_fitness)

from sberpm.conformance_checking import TokenReplay

token_replay = TokenReplay(data_holder, alpha_miner.graph)

token_replay.apply()

token_replay.result

print('mean:', token_replay.mean_fitness)

print('average:', token_replay.average_fitness)

–¢–∞–∫–∂–µ –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫–µ –¥–æ—Å—Ç—É–ø–µ–Ω –±–æ–ª–µ–µ –æ–±—â–∏–π –∫–ª–∞—Å—Å ConformanceChecking, —Å–¥–µ—Ä–∂–∞—â–∏–π TokenReplay –∏ —Ä–∞–¥ –¥—Ä—É–≥–∏—Ö –º–µ—Ç—Ä–∏–∫:

    precision
    generalization
    simplicity

from sberpm.conformance_checking import ConformanceChecking

cc = ConformanceChecking(data_holder, alpha_miner.graph)

cc.get_conformance_checking()

cc.get_fitness_df()

IV. BPMN

–î–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≥—Ä–∞—Ñ–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ BPMN (Business Process Model and Notation) –º–æ–∂–Ω–æ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è BpmnExporter –∏–∑ –º–æ–¥—É–ª—è sberpm.bpmn. –û–Ω –∏–º–µ–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –º–µ—Ç–æ–¥—ã:

    apply_petri ‚Äì –ø–æ—Å—Ç—Ä–æ–∏—Ç—å BPMN –¥–ª—è —Å–µ—Ç–∏ –ü–µ—Ç—Ä–∏
    get_string_representation ‚Äì –ø–æ–ª—É—á–∏—Ç—å BPMN-–Ω–æ—Ç–∞—Ü–∏—é –≥—Ä–∞—Ñ–∞
    write ‚Äì –∑–∞–ø–∏—Å–∞—Ç—å –≥—Ä–∞—Ñ –≤ BPMN —Ñ–æ—Ä–º–∞—Ç–µ

–ù–∞ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –º–æ–∂–Ω–æ —Ç–æ–ª—å–∫–æ –≥—Ä–∞—Ñ—ã, –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –∏–∑ Alpha Miner.

from sberpm.bpmn import BpmnExporter

bpmn_exporter = BpmnExporter()

bpmn_exporter.apply(alpha_miner.graph)

bpmn_exporter.get_string_representation()[:1000]

bpmn_exporter.write('exported.bpmn')

–î–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ BPMN-—Ñ–∞–π–ª–∞ –µ—Å—Ç—å –∫–ª–∞—Å—Å BpmnImporter —Å–æ —Å–ª–µ–¥—É—é—â–∏–º–∏ –º–µ—Ç–æ–¥–∞–º–∏:

    load_bpmn_from_xml ‚Äì –∑–∞–≥—Ä—É–∑–∏—Ç—å –≥—Ä–∞—Ñ, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–π –≤ –≤–∏–¥–µ BPMN
    get_pydotplus_graph ‚Äì –ø–æ–ª—É—á–∏—Ç—å –≥—Ä–∞—Ñ –≤ —Ñ–æ—Ä–º–∞—Ç–µ pydotplus

from sberpm.bpmn import BpmnImporter

bpmn_importer = BpmnImporter()

bpmn_importer.load_bpmn_from_xml('exported.bpmn')

pydot_graph = bpmn_importer.get_pydotplus_graph()

pydot_graph.write('imported_bpmn.svg', prog='dot', format='svg')


V. –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è

–ö–ª–∞—Å—Å ChartPainter –∏–∑ –º–æ–¥—É–ª—è sberpm.visual –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ç–∏–ø–æ–≤ –≥—Ä–∞—Ñ–∏–∫–æ–≤. –í –æ—Å–Ω–æ–≤–µ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –ª–µ–∂–∏—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ plotly, –±–ª–∞–≥–æ–¥–∞—Ä—è —á–µ–º—É –≤—Å–µ –¥–∏–∞–≥—Ä–∞–º–º—ã —è–≤–ª—è—é—Ç—Å—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–º–∏.

from sberpm.visual import ChartPainter

–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:

    data ‚Äì –¥–∞–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å (DataFrame, DataHolder –∏–ª–∏ –æ–±—ä–µ–∫—Ç–∞ –∫–ª–∞—Å—Å–∞ –º–µ—Ç—Ä–∏–∫)
    template ‚Äì —Å—Ç–∏–ª—å –≥—Ä–∞—Ñ–∏–∫–æ–≤, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é plotly
    palette ‚Äì —Ü–≤–µ—Ç–æ–≤–∞—è –ø–∞–ª–∏—Ç—Ä–∞ –≥—Ä–∞—Ñ–∏–∫–æ–≤, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é sequential.Sunset_r

–ö–∞–∂–¥—ã–π –º–µ—Ç–æ–¥ ChartPainter –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ç—Ä–∏—Å–æ–≤–∞—Ç—å –≥—Ä–∞—Ñ–∏–∫ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ —Ç–∏–ø–∞:

    hist ‚Äì –≥–∏—Å—Ç–æ–≥—Ä–∞–º–º–∞
    bar ‚Äì —Å—Ç–æ–ª–±—á–∞—Ç–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞
    box ‚Äì —è—â–∏—á–∫–æ–≤–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞
    scatter ‚Äì –¥–∏–∞–≥—Ä–∞–º–º–∞ —Ä–∞—Å—Å–µ—è–Ω–∏—è
    line ‚Äì –ª–∏–Ω–µ–π–Ω—ã–π –≥—Ä–∞—Ñ–∏–∫
    pie ‚Äì –∫—Ä—É–≥–æ–≤–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞
    sunburst ‚Äì –¥–∏–∞–≥—Ä–∞–º–º–∞ —Å–æ–ª–Ω–µ—á–Ω—ã–µ –ª—É—á–∏
    heatmap ‚Äì 2D –≥–∏—Å—Ç–æ–≥—Ä–∞–º–º–∞
    timeline ‚Äì –¥–∏–∞–≥—Ä–∞–º–º–∞ –ì–∞–Ω—Ç–∞
    pareto ‚Äì –¥–∏–∞–≥—Ä–∞–º–º–∞ –ü–∞—Ä–µ—Ç–æ

–û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –º–µ—Ç–æ–¥–æ–≤ (–¥–ª—è –±–æ–ª–µ–µ –ø–æ–¥—Ä–æ–±–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ —Å–º. –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é):

    x, y ‚Äì –Ω–∞–∑–≤–∞–Ω–∏—è —Å—Ç–æ–ª–±—Ü–æ–≤ –¥–ª—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ –ø–æ –æ—Å—è–º X –∏ Y —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ
    sort ‚Äì –Ω–∞–∑–≤–∞–Ω–∏–µ —Å—Ç–æ–ª–±—Ü–∞ –¥–ª—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –∑–Ω–∞—á–µ–Ω–∏–π
    n ‚Äì –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫ –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏
    color ‚Äì –Ω–∞–∑–≤–∞–Ω–∏–µ —Å—Ç–æ–ª–±—Ü–∞ –¥–ª—è –∑–∞–¥–∞–Ω–∏—è —Ü–≤–µ—Ç–∞ —ç–ª–µ–º–µ–Ω—Ç–∞–º –≥—Ä–∞—Ñ–∏–∫–∞
    subplots ‚Äì –∫–æ—Ä—Ç–µ–∂ –≤–∏–¥–∞ (rows, cols, ncols), –≥–¥–µ rows –∏ cols ‚Äì —ç—Ç–æ –Ω–∞–∑–≤–∞–Ω–∏—è —Å—Ç–æ–ª–±—Ü–æ–≤ –¥–ª—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –≥—Ä–∞—Ñ–∏–∫–æ–≤ –ø–æ —Ä—è–¥–∞–º –∏ —Å—Ç–æ–ª–±—Ü–∞–º —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ, –∞ ncols ‚Äì —ç—Ç–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç–æ–ª–±—Ü–æ–≤
    text ‚Äì –Ω–∞–∑–≤–∞–Ω–∏–µ —Å—Ç–æ–ª–±—Ü–∞ —Å —Ç–µ–∫—Å—Ç–æ–≤–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π (–∏–ª–∏ –µ–µ –≤–∏–¥) –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–∞ –≥—Ä–∞—Ñ–∏–∫–µ
    orientation ‚Äì –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏—è –≥—Ä–∞—Ñ–∏–∫–∞
    opacity ‚Äì –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≥—Ä–∞—Ñ–∏–∫–∞
    edge ‚Äì –≥—Ä–∞–Ω–∏—Ü—ã —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≥—Ä–∞—Ñ–∏–∫–∞
    title ‚Äì –Ω–∞–∑–≤–∞–Ω–∏–µ –≥—Ä–∞—Ñ–∏–∫–∞

–ö–∞–∂–¥—ã–π –º–µ—Ç–æ–¥ –ø—Ä–æ—Å—Ç –≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏, –Ω–æ –ø—Ä–∏ —ç—Ç–æ–º –æ–±–ª–∞–¥–∞–µ—Ç –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —à–∏—Ä–æ–∫–∏–º —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–æ–º, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ—Å—Ç—Ä–æ–∏—Ç—å –≥—Ä–∞—Ñ–∏–∫–∏ –¥–ª—è –ª—é–±—ã—Ö –∑–∞–¥–∞—á.
–ì–∏—Å—Ç–æ–≥—Ä–∞–º–º–∞

painter = ChartPainter(id_metric)

painter.hist(x='total_duration', edge=True)

–°—Ç–æ–ª–±—á–∞—Ç–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞

painter = ChartPainter(user_metric)

painter.bar(x=data_holder.user_column, y='total_duration', text=True)

–î–∏–∞–≥—Ä–∞–º–º–∞ —Ä–∞—Å—Å–µ—è–Ω–∏—è

painter = ChartPainter(id_metric)

painter.scatter(x='mean_duration', y='median_duration', color='unique_users_num', size='trace_length',

                edge=True, opacity=0.8)

### –ö—Ä—É–≥–æ–≤–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞

painter = ChartPainter(user_metric)

painter.pie(labels='count', n=15)

–ì–∏—Å—Ç–æ–≥—Ä–∞–º–º–∞ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π –ø–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞–º –≤—Ä–µ–º–µ–Ω–∏
–ü–æ –≤—Å–µ–º –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—è–º

painter = ChartPainter(data_holder)

painter.hist_activity_of_dur(top= False, use_median=False)

–ü–æ —Ç–æ–ø –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—è–º

painter.hist_activity_of_dur(top= True)

–ü–æ –æ–¥–Ω–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

painter.hist_activity_of_dur(by_activity='Stage_6')

----------–ú–∞—à–∏–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ----------
I. –ö–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏—è —ç—Ç–∞–ø–æ–≤
–í –ø–æ–ª–Ω–æ–π –≤–µ—Ä—Å–∏–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏

–î–∞–Ω–Ω—ã–π –º–æ–¥—É–ª—å —Å–ª—É–∂–∏—Ç –¥–ª—è –∫–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏–∏ —ç—Ç–∞–ø–æ–≤ –ø—Ä–æ—Ü–µ—Å—Å–∞, –¥–ª—è –Ω–∞—Ö–æ–∂–¥–µ–Ω–∏—è –±–ª–∏–∑–∫–∏—Ö –∏–ª–∏ –∏–¥–µ–Ω—Ç–∏—á–Ω—ã—Ö —ç—Ç–∞–ø–æ–≤ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤.
II. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ –Ω–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π
–í –ø–æ–ª–Ω–æ–π –≤–µ—Ä—Å–∏–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏

–ú–æ–¥—É–ª—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–∏—Å–∫–∞ –Ω–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π sberpm.autoinsights –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–º —Ä–µ–∂–∏–º–µ –≤—ã—è–≤–∏—Ç—å —Å–ª–∞–±—ã–µ –º–µ—Å—Ç–∞ –∏ —É—è–∑–≤–∏–º–æ—Å—Ç–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞ –∏ –Ω–∞–≥–ª—è–¥–Ω–æ –ø—Ä–æ–¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –∏—Ö –Ω–∞ –≥—Ä–∞—Ñ–µ –ø—Ä–æ—Ü–µ—Å—Å–∞. –ü—Ä–∏ –∞–Ω–∞–ª–∏–∑–µ –∫–ª–∞—Å—Å–æ–º AutoInsights —É—á–∏—Ç—ã–≤–∞—é—Ç—Å—è —Ç–∞–∫–∏–µ —Ñ–∞–∫—Ç–æ—Ä—ã, –∫–∞–∫:

    –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —ç—Ç–∞–ø–∞
    –†–æ—Å—Ç –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —ç—Ç–∞–ø–∞
    –ù–µ—Ä–µ–≥—É–ª—è—Ä–Ω–æ—Å—Ç—å (—Ä–µ–¥–∫–æ—Å—Ç—å) —ç—Ç–∞–ø–∞
    –≠—Ç–∞–ø –∏–º–µ–µ—Ç bottleneck c –Ω–∏–∑–∫–æ–π –≤–∞—Ä–∏–∞—Ç–∏–≤–Ω–æ—Å—Ç—å—é
    –≠—Ç–∞–ø –∏–º–µ–µ—Ç bottleneck c –≤—ã—Å–æ–∫–æ–π –≤–∞—Ä–∏–∞—Ç–∏–≤–Ω–æ—Å—Ç—å—é
    –≠—Ç–∞–ø –∏–º–µ–µ—Ç –±–æ–ª—å—à—É—é –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏–∑-–∑–∞ —á–∞—Å—Ç—ã—Ö –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–π –∏–Ω—Ü–∏–¥–µ–Ω—Ç–æ–≤
    –≠—Ç–∞–ø –∏–º–µ–µ—Ç –±–æ–ª—å—à—É—é –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏–∑-–∑–∞ —Ä–∞–∑–æ–≤—ã—Ö –∏–Ω—Ü–∏–¥–µ–Ω—Ç–æ–≤
    –≠—Ç–∞–ø –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ —Ä–æ—Å—Ç—É –≤—Ä–µ–º–µ–Ω–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞ –∏/–∏–ª–∏ –ø—Ä–æ—á–∏—Ö —ç—Ç–∞–ø–æ–≤
    –≠—Ç–∞–ø –ø—Ä–æ—Ö–æ–¥–∏—Ç —Å –æ—à–∏–±–∫–∞–º–∏, —á—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –∑–∞–º–µ–¥–ª–µ–Ω–∏—é –ø—Ä–æ—Ü–µ—Å—Å–∞
    –≠—Ç–∞–ø –ø—Ä–æ—Ö–æ–¥–∏—Ç —Å –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–º–∏ –æ—à–∏–±–∫–∞–º–∏ —Å–∏—Å—Ç–µ–º—ã, —á—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –Ω–µ—É—Å–ø–µ—Ö—É –ø—Ä–æ—Ü–µ—Å—Å–∞
    –≠—Ç–∞–ø –ø—Ä–æ—Ö–æ–¥–∏—Ç —Å–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–º–∏ –æ—à–∏–±–∫–∞–º–∏, —á—Ç–æ –ø—Ä–∏–≤–æ–¥—è—Ç –∫ –Ω–µ—É—Å–ø–µ—Ö—É –ø—Ä–æ—Ü–µ—Å—Å–∞
    –°—Ç–æ—Ä–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –¥–∞–Ω–Ω–æ–º —ç—Ç–∞–ø–µ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –Ω–µ—É—Å–ø–µ—Ö—É –∑–∞–º–µ–¥–ª–µ–Ω–∏—é –ø—Ä–æ—Ü–µ—Å—Å–∞
    –°—Ç–æ—Ä–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –¥–∞–Ω–Ω–æ–º —ç—Ç–∞–ø–µ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –Ω–µ—É—Å–ø–µ—Ö—É –ø—Ä–æ—Ü–µ—Å—Å–∞
    –£—Ä–æ–≤–µ–Ω—å –∞–Ω–æ–º–∞–ª—å–Ω–æ—Å—Ç–∏
    –°—É–º–º–∞ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤

III. –ü–æ–∏—Å–∫ –∞–Ω–æ–º–∞–ª–∏–π

–í—ã—è–≤–ª–µ–Ω–∏–µ –∞–Ω–æ–º–∞–ª–∏–π (—Ç–∞–∫–∂–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –≤—ã–±—Ä–æ—Å–æ–≤) ‚Äî —ç—Ç–æ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –≤–æ –≤—Ä–µ–º—è –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Ä–µ–¥–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö, —Å–æ–±—ã—Ç–∏–π –∏–ª–∏ –Ω–∞–±–ª—é–¥–µ–Ω–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã–∑—ã–≤–∞—é—Ç –ø–æ–¥–æ–∑—Ä–µ–Ω–∏—è –≤–≤–∏–¥—É —Å—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –æ—Ç–ª–∏—á–∏—è –æ—Ç –±–æ–ª—å—à–µ–π —á–∞—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö.

–î–ª—è –ø–æ–∏—Å–∫–∞ –∞–Ω–æ–º–∞–ª–∏–π (–≤—ã–±—Ä–æ—Å–æ–≤) –≤ –¥–∞–Ω–Ω—ã—Ö –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫–µ –µ—Å—Ç—å –º–æ–¥—É–ª—å sberpm.ml.anomaly_detection, –≤ –∫–æ—Ç–æ—Ä–æ–º –µ—Å—Ç—å –∫–ª–∞—Å—Å—ã OutlierCBLOF, OutlierForest, OutlierLOF, OutlierOCSVM, OutlierCustom, OutlierEnsemble. –í –∫–∞–∂–¥–æ–º –∫–ª–∞—Å—Å–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω —Å–≤–æ–π –∞–ª–≥–æ—Ä–∏—Ç–º –≤—ã—è–≤–ª–µ–Ω–∏—è –∞–Ω–æ–º–∞–ª–∏–π –±–µ–∑ —É—á–∏—Ç–µ–ª—è, –∫–æ—Ç–æ—Ä—ã–π –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç –∞–Ω–æ–º–∞–ª–∏–∏ –≤ –Ω–µ–ø–æ–º–µ—á–µ–Ω–Ω—ã—Ö –Ω–∞–±–æ—Ä–∞—Ö –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –ø—Ä–µ–¥–ø–æ–ª–æ–∂–µ–Ω–∏–∏, —á—Ç–æ –±–æ–ª—å—à–∞—è —á–∞—Å—Ç—å –Ω–∞–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–æ—Ä–º–∞–ª—å–Ω–∞, –ø—É—Ç–µ–º –ø–æ–∏—Å–∫–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª–µ–π, –∫–æ—Ç–æ—Ä—ã–µ –º–µ–Ω—å—à–µ –ø–æ–¥—Ö–æ–¥—è—Ç –∫ –æ—Å—Ç–∞–ª—å–Ω–æ–º—É –Ω–∞–±–æ—Ä—É –¥–∞–Ω–Ω—ã—Ö.

OutlierEnsemble —ç—Ç–æ –∫–æ–º–ø–æ–∑–∏—Ü–∏—è –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è –∞–Ω–æ–º–∞–ª–∏–π, –∏—Ç–æ–≥–æ–≤–æ–π –æ—Ç–≤–µ—Ç –∫–æ—Ç–æ—Ä–æ–π –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ (–æ–±—ä–µ–∫—Ç —Å—á–∏—Ç–∞–µ—Ç—Å—è –≤—ã–±—Ä–æ—Å–æ–º, –µ—Å–ª–∏ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ –æ–ø—Ä–µ–¥–µ–ª–∏–ª–æ –µ–≥–æ –∫–∞–∫ –≤—ã–±—Ä–æ—Å) —Å–ª–µ–¥—É—é—â–∏—Ö –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤: KNN, ABOD, HBOS, Isolation Forest.

from sberpm.ml.anomaly_detection import OutlierCBLOF, OutlierForest, OutlierLOF, \

                                        OutlierOCSVM, OutlierCustom, OutlierEnsemble

–í –∫–∞—á–µ—Å—Ç–≤–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –æ–±—ä–µ–∫—Ç –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –Ω–∞ –≤—Ö–æ–¥ DataHolder, –ø–æ –∫–æ—Ç–æ—Ä–æ–º—É —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç –±–∞–∑–æ–≤—ã–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏, —Ç–∞–∫–∏–µ –∫–∞–∫ —Å—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è, –¥–ª–∏–Ω–∞ —Ü–µ–ø–æ—á–∫–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π, —á–∏—Å–ª–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–µ—Å–ª–∏ –æ–Ω–∏ –µ—Å—Ç—å) –∏ —Ç. –¥.

outlier_detector = OutlierForest(data_holder)

–ö–∞–∂–¥—ã–π –∫–ª–∞—Å—Å –∏–º–µ–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –º–µ—Ç–æ–¥—ã:

    add_feature ‚Äì –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–∑–Ω–∞–∫–∞, –ø–æ –∫–æ—Ç–æ—Ä–æ–º—É —Ç—Ä–µ–±—É–µ—Ç—Å—è –Ω–∞–π—Ç–∏ –∞–Ω–æ–º–∞–ª–∏–∏
    add_groupby_feature ‚Äì –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–∑–Ω–∞–∫–∞ –¥–ª—è –ø–æ–∏—Å–∫–∞ –∞–Ω–æ–º–∞–ª–∏–π, —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–Ω–æ–≥–æ –ø–æ —Å–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –¥–∞–Ω–Ω—ã–º
    apply ‚Äì –∑–∞–ø—É—Å–∫ –∞–ª–≥–æ—Ä–∏—Ç–º–∞
    get_outlier_ids ‚Äì –≤—ã–≤–æ–¥ id –∞–Ω–æ–º–∞–ª—å–Ω—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
    print_result ‚Äì –≤—ã–≤–æ–¥ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–æ –∞–Ω–æ–º–∞–ª–∏—è–º
    show_permutation_importance ‚Äì –∏–ª–ª—é—Å—Ç—Ä–∞—Ü–∏—è permutation importance –ø—Ä–∏–∑–Ω–∞–∫–æ–≤, –ø–æ –∫–æ—Ç–æ—Ä—ã–º –æ—Ç–ª–∏—á–∞—é—Ç—Å—è –≤—ã–±—Ä–æ—Å—ã (—Ä–∞–±–æ—Ç–∞–µ—Ç –≤–µ–∑–¥–µ –∫—Ä–æ–º–µ OutlierEnsemble)

# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–∑–Ω–∞–∫–∞ —Å –∏–º–µ–Ω–µ–º max_time, –≤—ã—á–∏—Å–ª—è–µ–º–æ–≥–æ –ø—É—Ç–µ–º –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏ max –∫ –∫–æ–ª–æ–Ω–∫–µ

# data_holder.duration_column –≤ —Å–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ id –¥–∞–Ω–Ω—ã—Ö (–º–∞—Å–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ)

outlier_detector.add_groupby_feature('max_time', data_holder.duration_column, max)

–í –º–æ–¥—É–ª–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ 5 —Ç–µ—Ö–Ω–∏–∫ –≤—ã—è–≤–ª–µ–Ω–∏—è –∞–Ω–æ–º–∞–ª–∏–π:

    Isolation Forest (IF)
    One-Class Support Vector Machines (OCSVM)
    Local Outlier Factor (LOF)
    Cluster-Based Local Outlier Factor (CBLOF)
    OutlierEnsemble –≤ –∫–æ—Ç–æ—Ä–æ–º –µ—Å—Ç—å KNN, HBOS, ABOD, Isolation Forest

–¢–∞–∫–∂–µ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª—é–±–æ–π –¥—Ä—É–≥–æ–π –∞–ª–≥–æ—Ä–∏—Ç–º –ø–æ–∏—Å–∫–∞ –∞–Ω–æ–º–∞–ª–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∏–∑ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ pyod).
Isolation Forest

    –í –æ—Å–Ω–æ–≤–µ —Ç–µ—Ö–Ω–∏–∫–∏ –∏–∑–æ–ª–∏—Ä—É—é—â–µ–≥–æ –ª–µ—Å–∞ –ª–µ–∂–∏—Ç –∏–¥–µ—è –æ —Ç–æ–º, —á—Ç–æ –∞–Ω–æ–º–∞–ª—å–Ω—ã–µ –Ω–∞–±–ª—é–¥–µ–Ω–∏—è –ª–µ–≥—á–µ –æ—Ç–¥–µ–ª–∏—Ç—å –æ—Ç –æ—Å—Ç–∞–ª—å–Ω—ã—Ö (–Ω–æ—Ä–º–∞–ª—å–Ω—ã—Ö) –æ–±—ä–µ–∫—Ç–æ–≤ –¥–∞—Ç–∞—Å–µ—Ç–∞. –ê–ª–≥–æ—Ä–∏—Ç–º —Å—Ç—Ä–æ–∏—Ç –∞–Ω—Å–∞–º–±–ª—å –∏–∑–æ–ª–∏—Ä—É—é—â–∏—Ö –±–∏–Ω–∞—Ä–Ω—ã—Ö –¥–µ—Ä–µ–≤—å–µ–≤ —Ä–µ—à–µ–Ω–∏–π, –≤ –∫–∞–∂–¥–æ–º —É–∑–ª–µ –∫–æ—Ç–æ—Ä–æ–≥–æ –≤—ã–±–æ—Ä –ø—Ä–∏–∑–Ω–∞–∫–∞ –∏ –ø–æ—Ä–æ–≥–∞ —Ä–∞–∑–±–∏–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è —Å–ª—É—á–∞–π–Ω—ã–º –æ–±—Ä–∞–∑–æ–º. –î–µ—Ä–µ–≤–æ —Å—Ç—Ä–æ–∏—Ç—Å—è –¥–æ —Ç–µ—Ö –ø–æ—Ä, –ø–æ–∫–∞ –≤ –ª–∏—Å—Ç–µ –Ω–µ –æ—Å—Ç–∞–Ω–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –æ–±—ä–µ–∫—Ç –∏–ª–∏ –æ–±—ä–µ–∫—Ç—ã —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏. –ò–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ –ø–æ–Ω—è—Ç–Ω–æ, —á—Ç–æ –∞–Ω–æ–º–∞–ª—å–Ω—ã–µ —Ç–æ—á–∫–∏ ‚Äì —ç—Ç–æ —Ç–µ, —á—Ç–æ –∏–º–µ—é—Ç –º–µ–Ω—å—à—É—é –¥–ª–∏–Ω—É –ø—É—Ç–∏ –≤ –¥–µ—Ä–µ–≤–µ, –∫–æ—Ç–æ—Ä–∞—è –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –∫–∞–∫ —á–∏—Å–ª–æ —Ä–µ–±–µ—Ä, –∫–æ—Ç–æ—Ä—ã–µ –æ–±—ä–µ–∫—Ç –ø—Ä–æ—Ö–æ–¥–∏—Ç –æ—Ç –∫–æ—Ä–Ω–µ–≤–æ–≥–æ —É–∑–ª–∞ –¥–æ –ª–∏—Å—Ç–∞.

outlier_detector = OutlierForest(data_holder)

One-Class Support Vector Machines

    –û—Å–Ω–æ–≤–Ω–∞—è –∏–¥–µ—è –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–≥–æ –º–µ—Ç–æ–¥–∞ –æ–ø–æ—Ä–Ω—ã—Ö –≤–µ–∫—Ç–æ—Ä–æ–≤ (SVM) –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–∏ –æ–±—ä–µ–∫—Ç–æ–≤, –æ—Ç–Ω–æ—Å—è—â–∏—Ö—Å—è –∫ —Ä–∞–∑–Ω—ã–º –∫–ª–∞—Å—Å–∞–º, –≥–∏–ø–µ—Ä–ø–ª–æ—Å–∫–æ—Å—Ç—å—é —Ç–∞–∫, —á—Ç–æ–±—ã –º–∞–∫—Å–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –º–µ–∂–¥—É –Ω–∏–º–∏. –ê–ª–≥–æ—Ä–∏—Ç–º OCSVM, –∫–∞–∫ —Å–ª–µ–¥—É–µ—Ç –∏–∑ –Ω–∞–∑–≤–∞–Ω–∏—è, –æ–±—É—á–∞–µ—Ç—Å—è –Ω–∞ –¥–∞–Ω–Ω—ã—Ö, –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—â–∏—Ö –æ–¥–Ω–æ–º—É –∫–ª–∞—Å—Å—É ‚Äì –∫–ª–∞—Å—Å—É –Ω–æ—Ä–º–∞–ª—å–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤. –û–Ω –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –≥—Ä–∞–Ω–∏—Ü—ã —ç—Ç–∏—Ö –æ–±—ä–µ–∫—Ç–æ–≤ –∏ –∫–ª–∞—Å—Å–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Ç–æ—á–∫–∏, –ª–µ–∂–∞—â–∏–µ –ø–æ –¥—Ä—É–≥—É—é —Å—Ç–æ—Ä–æ–Ω—É –æ—Ç —Ä–∞–∑–¥–µ–ª—è—é—â–µ–π –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–∏, –∫–∞–∫ –∞–Ω–æ–º–∞–ª—å–Ω—ã–µ.

outlier_detector = OutlierOCSVM(data_holder)

Local Outlier Factor

    –õ–æ–∫–∞–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å –≤—ã–±—Ä–æ—Å–∞ (LOF) –æ—Å–Ω–æ–≤—ã–≤–∞–µ—Ç—Å—è –Ω–∞ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ –ª–æ–∫–∞–ª—å–Ω–æ–π –ø–ª–æ—Ç–Ω–æ—Å—Ç–∏ –æ–±—ä–µ–∫—Ç–∞, –≥–¥–µ –ª–æ–∫–∞–ª—å–Ω–æ—Å—Ç—å –∑–∞–¥–∞–µ—Ç—Å—è –µ–≥–æ ùëò

    –±–ª–∏–∂–∞–π—à–∏–º–∏ —Å–æ—Å–µ–¥—è–º–∏, —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è –¥–æ –∫–æ—Ç–æ—Ä—ã—Ö –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ –∫–∞—á–µ—Å—Ç–≤–µ –æ—Ü–µ–Ω–∫–∏ –ø–ª–æ—Ç–Ω–æ—Å—Ç–∏. –ü—É—Ç–µ–º —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –ª–æ–∫–∞–ª—å–Ω–æ–π –ø–ª–æ—Ç–Ω–æ—Å—Ç–∏ –æ–±—ä–µ–∫—Ç–∞ —Å –ª–æ–∫–∞–ª—å–Ω–æ–π –ø–ª–æ—Ç–Ω–æ—Å—Ç—å—é –µ–≥–æ —Å–æ—Å–µ–¥–µ–π, –º–æ–∂–Ω–æ –≤—ã–¥–µ–ª–∏—Ç—å –æ–±–ª–∞—Å—Ç–∏ —Å –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ–π –ø–ª–æ—Ç–Ω–æ—Å—Ç—å—é –∏ —Ç–æ—á–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –∏–º–µ—é—Ç —Å—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ –º–µ–Ω—å—à—É—é –ø–ª–æ—Ç–Ω–æ—Å—Ç—å, —á–µ–º –µ–µ —Å–æ—Å–µ–¥–∏. –≠—Ç–∏ —Ç–æ—á–∫–∏ —Å—á–∏—Ç–∞—é—Ç—Å—è –≤—ã–±—Ä–æ—Å–∞–º–∏.

outlier_detector = OutlierLOF(data_holder)

Cluster-Based Local Outlier Factor

    –í –æ—Ç–ª–∏—á–∏–µ –æ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ LOF, –æ—Å–Ω–æ–≤–∞–Ω–Ω–æ–º –Ω–∞ –º–µ—Ç—Ä–∏—á–µ—Å–∫–æ–º –ø–æ–¥—Ö–æ–¥–µ –∫ –≤—ã—è–≤–ª–µ–Ω–∏—é –ª–æ–∫–∞–ª—å–Ω—ã—Ö –≤—ã–±—Ä–æ—Å–æ–≤, CBLOF –≤—ã—è–≤–ª—è–µ—Ç –∫–ª–∞—Å—Ç–µ—Ä–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∞–Ω–Ω—ã—Ö, —Ä–∞–∑–¥–µ–ª—è–µ—Ç –∫–ª–∞—Å—Ç–µ—Ä—ã –Ω–∞ "–±–æ–ª—å—à–∏–µ" –∏ "–º–∞–ª—ã–µ" –∏ –∑–∞—Ç–µ–º –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ª–æ–∫–∞–ª—å–Ω–æ—Å—Ç—å –º–∞–ª—ã—Ö –∫–ª–∞—Å—Ç–µ—Ä–æ–≤ –ø–æ –æ—Ç–Ω–æ—à–µ–Ω–∏—é –∫ –±–æ–ª—å—à–∏–º. –ö–ª–∞—Å—Ç–µ—Ä—ã, —á—å—è –ª–æ–∫–∞–ª—å–Ω–æ—Å—Ç—å –ø–æ –æ—Ç–Ω–æ—à–µ–Ω–∏—é –∫ –¥—Ä—É–≥–∏–º –º–∞–ª–∞, –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –∫–∞–∫ –≤—ã–±—Ä–æ—Å—ã.

outlier_detector = OutlierCBLOF(data_holder)

–ü–æ–º–∏–º–æ —É–∫–∞–∑–∞–Ω–Ω—ã—Ö 4 –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ –ø–æ–∏—Å–∫–∞ –∞–Ω–æ–º–∞–ª–∏–π, –º–æ–∂–Ω–æ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –ª—é–±—ã–º –¥—Ä—É–≥–∏–º, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ –≤—Å—Ç—Ä–æ–µ–Ω –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫—É, –Ω–æ –µ—Å—Ç—å –≤ pyod ‚Äì –Ω–∞–ø—Ä–∏–º–µ—Ä, histogram-based outlier detection (HBOS).

from pyod.models.hbos import HBOS

hbos = HBOS(contamination=0.1)

outlier_detector = OutlierCustom(data_holder, hbos, outlier_label=1)

–ü–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ –∞–ª–≥–æ—Ä–∏—Ç–º–∞, –µ–≥–æ —Å–ª–µ–¥—É–µ—Ç –ø—Ä–∏–º–µ–Ω–∏—Ç—å —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ apply.

outlier_detector.apply()

–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—Ç —Å–æ–±–æ–π —Å–ø–∏—Å–æ–∫ id –∞–Ω–æ–º–∞–ª–∏–π (–º–µ—Ç–æ–¥ get_outlier_ids), —Ç–∞–±–ª–∏—Ü—É —Å –æ–ø–∏—Å–∞—Ç–µ–ª—å–Ω—ã–º–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞–º–∏ –ø–æ –∞–Ω–æ–º–∞–ª—å–Ω—ã–º –∏ –Ω–æ—Ä–º–∞–ª—å–Ω—ã–º –æ–±—ä–µ–∫—Ç–∞–º (–º–µ—Ç–æ–¥ print_result), –∞ —Ç–∞–∫–∂–µ –≥—Ä–∞—Ñ–∏—á–µ—Å–∫—É—é –∏–ª–ª—é—Å—Ç—Ä–∞—Ü–∏—é –≤–∞–∂–Ω–æ—Å—Ç–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã—Ö –¥–ª—è –ø–æ–∏—Å–∫–∞ –∞–Ω–æ–º–∞–ª–∏–π –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ (–º–µ—Ç–æ–¥ show_permutation_importance).

outlier_detector.get_outlier_ids()

outlier_detector.print_result()

outlier_detector.show_permutation_importance()

OutlierEnsemble

    OutlierEnsemble —ç—Ç–æ –∫–æ–º–ø–æ–∑–∏—Ü–∏—è –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è –∞–Ω–æ–º–∞–ª–∏–π, –∏—Ç–æ–≥–æ–≤–æ–π –æ—Ç–≤–µ—Ç –∫–æ—Ç–æ—Ä–æ–π –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ (–æ–±—ä–µ–∫—Ç —Å—á–∏—Ç–∞–µ—Ç—Å—è –≤—ã–±—Ä–æ—Å–æ–º, –µ—Å–ª–∏ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ –æ–ø—Ä–µ–¥–µ–ª–∏–ª–æ –µ–≥–æ –∫–∞–∫ –≤—ã–±—Ä–æ—Å) —Å–ª–µ–¥—É—é—â–∏—Ö –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤: KNN, ABOD, HBOS, Isolation Forest. –í –∫–∞—á–µ—Å—Ç–≤–µ –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ –º–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –ª—é–±–æ–µ –ø–æ–¥–º–Ω–æ–∂–µ—Ç–≤–æ –∏–∑ {"HBOS", "ABOD", "KNN", "IForest"}.

outlier_detector = OutlierEnsemble(data_holder, ["HBOS", "ABOD", "KNN", "IForest"])

outlier_detector.apply()

outlier_detector.print_result()

IV. –§–∞–∫—Ç–æ—Ä–Ω—ã–π –∞–Ω–∞–ª–∏–∑
–í –ø–æ–ª–Ω–æ–π –≤–µ—Ä—Å–∏–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏

–§–∞–∫—Ç–æ—Ä–Ω—ã–π –∞–Ω–∞–ª–∏–∑ ‚Äì —ç—Ç–æ –º–Ω–æ–≥–æ–º–µ—Ä–Ω—ã–π –º–µ—Ç–æ–¥, –ø—Ä–∏–º–µ–Ω—è–µ–º—ã–π –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è –≤–∑–∞–∏–º–æ—Å–≤—è–∑–µ–π –º–µ–∂–¥—É –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö. –ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç—Å—è, —á—Ç–æ –∏–∑–≤–µ—Å—Ç–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∑–∞–≤–∏—Å—è—Ç –æ—Ç –º–µ–Ω—å—à–µ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏ —Å–ª—É—á–∞–π–Ω–æ–π –æ—à–∏–±–∫–∏. –° –ø–æ–º–æ—â—å—é —Ñ–∞–∫—Ç–æ—Ä–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ –≤–æ–∑–º–æ–∂–Ω–æ –≤—ã—è–≤–ª–µ–Ω–∏–µ —Å–∫—Ä—ã—Ç—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–∫—Ç–æ—Ä–æ–≤, –æ—Ç–≤–µ—á–∞—é—â–∏—Ö –∑–∞ –Ω–∞–ª–∏—á–∏–µ –ª–∏–Ω–µ–π–Ω—ã—Ö —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏—Ö –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–π –º–µ–∂–¥—É –Ω–∞–±–ª—é–¥–∞–µ–º—ã–º–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏.
V. –ú–æ–¥—É–ª—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –º–æ–¥–µ–ª–µ–π
–í –ø–æ–ª–Ω–æ–π –≤–µ—Ä—Å–∏–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏

–ú–æ–¥—É–ª—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –º–æ–¥–µ–ª–µ–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥—ã –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è –¥–ª—è –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ä—è–¥–æ–≤ –∏ –ø–∞–Ω–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.
VI. –†–µ–∫–æ–º–µ–Ω–¥–∞—Ç–µ–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞
–í –ø–æ–ª–Ω–æ–π –≤–µ—Ä—Å–∏–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏

–î–∞–Ω–Ω—ã–π –º–æ–¥—É–ª—å –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ç–µ–ª—å–Ω—É—é —Å–∏—Å—Ç–µ–º—É, —Ä–∞–Ω–∂–∏—Ä—É—é—â—É—é —ç—Ç–∞–ø—ã –ø—Ä–æ—Ü–µ—Å—Å–∞ –≤ –ø–æ—Ä—è–¥–∫–µ –∏—Ö –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–æ—Å—Ç–∏ –¥–ª—è —Ä–µ–∏–Ω–∂–µ–Ω–∏—Ä–∏–Ω–≥–∞. –°–∏—Å—Ç–µ–º–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, –Ω–∞ –∫–∞–∫–∏–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –Ω—É–∂–Ω–æ –æ–±—Ä–∞—Ç–∏—Ç—å –≤–Ω–∏–º–∞–Ω–∏–µ –≤ –ø–µ—Ä–≤—É—é –æ—á–µ—Ä–µ–¥—å –ø—Ä–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞. –°–Ω–∞—á–∞–ª–∞ –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è –ª—É—á—à–∞—è –º–æ–¥–µ–ª—å, –æ–ø–∏—Å—ã–≤–∞—é—â—É—é –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å —Ç–∞—Ä–≥–µ—Ç–Ω–æ–π –º–µ—Ç—Ä–∏–∫–∏ (metric) –∫–∞–∂–¥–æ–π –∏–∑ –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π –æ—Ç –ø—Ä–∏–∑–Ω–∞–∫–æ–≤—ã—Ö –º–µ—Ç—Ä–∏–∫ (metric_f) –≤—Å–µ—Ö –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –ê–∫—Ç–∏–≤–Ω–æ—Å–µ—Ç–π. –í –∫–∞—á–µ—Å—Ç–≤–µ –º–µ—Ç—Ä–∏–∫ –º–æ–≥—É—Ç –≤—ã—Å—Ç—É–ø–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ—Ü–∏–∫–ª–æ–≤ (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—è–≤–ª–µ–Ω–∏–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏, "appearance"), –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è("time"), –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–π ("recycles"), –∫–∞—Å—Ç–æ–º–Ω–∞—è –º–µ—Ç—Ä–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ("user_metric"). –î–∞–ª–µ–µ –Ω–∞ –æ—Å–Ω–æ–≤–∞–Ω–∏–∏ –º–µ—Ç—Ä–∏–∫–∏ —Å—Ç—Ä–æ—è—Ç—Å—è –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã –ø—Ä–æ–±–ª–µ–º–Ω–æ—Å—Ç–∏, –≤ –ø–æ—Ä—è–¥–∫–µ —É–±—ã–≤–∞–Ω–∏—è –∫–æ—Ç–æ—Ä—ã—Ö —Ä–∞–Ω–∂–∏—Ä—É—é—Ç—Å—è –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏.
VII. –ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—Å—Ç–æ–≤
–í –ø–æ–ª–Ω–æ–π –≤–µ—Ä—Å–∏–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏

–î–∞–Ω–Ω—ã–π –º–æ–¥—É–ª—å —Å–ª—É–∂–∏—Ç –¥–ª—è –∫–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏–∏ —Ç–µ–∫—Å—Ç–æ–≤. –î–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–ª–∞—Å—Ç–µ—Ä–∞ –∞–ª–≥–æ—Ä–∏—Ç–º –≤—ã–¥–∞–µ—Ç –Ω–æ–º–µ—Ä –∫–ª–∞—Å—Ç–µ—Ä–∞ (–Ω–∞–∑–≤–∞–Ω–∏–µ –∫–ª–∞—Å—Ç–µ—Ä–∞ –∏–ª–∏ —Å–∞–º–æ–µ –±–ª–∏–∑–∫–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –∫ —Ü–µ–Ω—Ç—Ä–æ–∏–¥—É –∫–ª–∞—Å—Ç–µ—Ä–∞), –∏ 10 —Å–∞–º—ã—Ö —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã—Ö —Å–ª–æ–≤ –≤ –∫–ª–∞—Å—Ç–µ—Ä–µ.
VIII. –°–µ–Ω—Ç–∏–º–µ–Ω—Ç–Ω—ã–π –∞–Ω–∞–ª–∏–∑
–í –ø–æ–ª–Ω–æ–π –≤–µ—Ä—Å–∏–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏

–î–∞–Ω–Ω—ã–π –º–æ–¥—É–ª—å –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π —Å–∏—Å—Ç–µ–º—É –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Ç–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ —Å–ª–æ–≤–µ—Å–Ω—ã—Ö –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –≤ —Ç–µ–∫—Å—Ç–æ–≤–æ–º –ø–æ–ª–µ. –ú–æ–¥—É–ª—å –∞–Ω–∞–ª–∏–∑–∞ —Ç–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –∏–º–µ–µ—Ç –¥–≤–∞ —Ä–µ–∂–∏–º–∞: ¬´–±–∞–∑–æ–≤—ã–π¬ª –∏ ¬´–ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π¬ª. –í ¬´–±–∞–∑–æ–≤–æ–º¬ª —Ä–µ–∂–∏–º–µ —Ç–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å —Ç–µ–∫—Å—Ç–∞ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –∫–∞–∫ ¬´positive¬ª –∏–ª–∏ ¬´negative¬ª, —á–∏—Å–ª–µ–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —Ç–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –æ—Ç -1 –¥–æ 1 (–æ—Ç –Ω–µ–≥–∞—Ç–∏–≤–∞ –∫ –ø–æ–∑–∏—Ç–∏–≤—É).
IX. –ü–æ–∏—Å–∫ —Å—á–∞—Å—Ç–ª–∏–≤–æ–≥–æ –ø—É—Ç–∏
–í –ø–æ–ª–Ω–æ–π –≤–µ—Ä—Å–∏–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏

–ó–∞–¥–∞—á—É –ø–æ–∏—Å–∫–∞ —Å—á–∞—Å—Ç–ª–∏–≤–æ–≥–æ –ø—É—Ç–∏ –º–æ–∂–Ω–æ —Ä–µ—à–∏—Ç—å —Å –ø–æ–º–æ—â—å—é –æ–±—É—á–µ–Ω–∏—è —Å –ø–æ–¥–∫—Ä–µ–ø–ª–µ–Ω–∏–µ–º (RL), –∫–æ—Ç–æ—Ä–æ–µ –ø–æ —Å–≤–æ–µ–π —Å—É—Ç–∏ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–æ –∫ –ø–æ–∏—Å–∫—É –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π. RL —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –¥–≤—É–º—è –æ–±—ä–µ–∫—Ç–∞–º–∏: –∞–≥–µ–Ω—Ç–æ–º –∏ —Å—Ä–µ–¥–æ–π. –í–æ –≤—Ä–µ–º—è –æ–±—É—á–µ–Ω–∏—è –∞–≥–µ–Ω—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É–µ—Ç —Å –æ–∫—Ä—É–∂–∞—é—â–µ–π —Å—Ä–µ–¥–æ–π, —Å–æ–≤–µ—Ä—à–∞–µ—Ç –¥–µ–π—Å—Ç–≤–∏—è –∏ –ø–æ–ª—É—á–∞–µ—Ç –æ–±—Ä–∞—Ç–Ω—É—é —Å–≤—è–∑—å, –∫–æ—Ç–æ—Ä–∞—è –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è –≤–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏–µ–º. –ó–∞–¥–∞—á–∞ —Ñ–æ—Ä–º—É–ª–∏—Ä—É–µ—Ç—Å—è –≤ —Ä–∞–º–∫–∞—Ö –º–∞—Ä–∫–æ–≤—Å–∫–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏–π, –∫–æ—Ç–æ—Ä—ã–π –æ—Å–Ω–æ–≤–∞–Ω –Ω–∞:

    –º–Ω–æ–∂–µ—Å—Ç–≤–µ —Å–æ—Å—Ç–æ—è–Ω–∏–π –≤ –º–∏—Ä–µ
    –º–Ω–æ–∂–µ—Å—Ç–≤–µ –¥–µ–π—Å—Ç–≤–∏–π
    –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–Ω–æ–º —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–∏ —Å–ª–µ–¥—É—é—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø—Ä–∏ —É—Å–ª–æ–≤–∏–∏ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è
    –Ω–∞–≥—Ä–∞–¥—ã –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –º–µ–∂–¥—É —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –¥–µ–π—Å—Ç–≤–∏–π.

–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –º–∞—Ä–∫–æ–≤—Å–∫–æ–≥–æ —Å–≤–æ–π—Å—Ç–≤–∞ —Å–æ—Å—Ç–æ–∏—Ç –≤ —Ç–æ–º, —á—Ç–æ —Å–ª–µ–¥—É—é—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —É—Å–ª–æ–≤–Ω–æ –Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –ø—Ä–æ—à–ª—ã—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π –∏ –¥–µ–π—Å—Ç–≤–∏–π, —É—á–∏—Ç—ã–≤–∞—è —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏ –¥–µ–π—Å—Ç–≤–∏–µ. –ì—Ä–∞—Ñ –ø—Ä–æ—Ü–µ—Å—Å–∞ —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç—Å—è –∫–∞–∫ —Å—Ä–µ–¥–∞, —Å–æ—Å—Ç–æ—è–Ω–∏—è ‚Äî —É–∑–ª—ã –≥—Ä–∞—Ñ–∞ (–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏), –¥–µ–π—Å—Ç–≤–∏—è ‚Äî —Ä–µ–±—Ä–∞ (–≤—ã–±–æ—Ä —Å–ª–µ–¥—É—é—â–µ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞), –Ω–∞–≥—Ä–∞–¥–∞ ‚Äî —Å—Ä–µ–¥–Ω–µ–µ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –ø–µ—Ä–µ—Ö–æ–¥–∞ –º–µ–∂–¥—É –ø—Ä–æ—à–ª—ã–º –∏ –Ω–∞—Å—Ç–æ—è—â–∏–º —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏. –ü—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ –∫–ª—é—á–µ–≤—ã—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π –∑–∞ –ø–µ—Ä–µ—Ö–æ–¥ –≤ –Ω–∏—Ö —Ç–∞–∫–∂–µ –Ω–∞—á–∏—Å–ª—è–µ—Ç—Å—è –Ω–∞–≥—Ä–∞–¥–∞. –¶–µ–ª—å —Å–æ—Å—Ç–æ–∏—Ç –≤ —Ç–æ–º, —á—Ç–æ–±—ã –≤—ã–±—Ä–∞—Ç—å –æ–ø—Ç–∏–º–∞–ª—å–Ω—É—é –ø–æ–ª–∏—Ç–∏–∫—É ‚Äî –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–∑ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–π –≤ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –¥–µ–π—Å—Ç–≤–∏–π –∏–ª–∏, –¥—Ä—É–≥–∏–º–∏ —Å–ª–æ–≤–∞–º–∏, —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –∫ –¥–µ–π—Å—Ç–≤–∏—é –≤ –∫–∞–∂–¥–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏ ‚Äî –∫–æ—Ç–æ—Ä–æ–µ –º–∞–∫—Å–∏–º–∏–∑–∏—Ä—É–µ—Ç –æ–∂–∏–¥–∞–µ–º—É—é –¥–∏—Å–∫–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—É—é —Å—É–º–º—É –≤–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏–π, –ø—Ä–æ—Ö–æ–¥—è—â–∏—Ö —á–µ—Ä–µ–∑ –≥—Ä–∞—Ñ –ø—Ä–æ—Ü–µ—Å—Å–∞. –û–ø—Ç–∏–º–∞–ª—å–Ω–∞—è –ø–æ–ª–∏—Ç–∏–∫–∞ –∏, –∫–∞–∫ —Å–ª–µ–¥—Å—Ç–≤–∏–µ, –ø—É—Ç—å –Ω–∞—Ö–æ–¥—è—Ç—Å—è –ø—Ä–∏ –ø–æ–º–æ—â–∏ AutoRL —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ª—É—á—à–µ–≥–æ –ø–æ –¥–∏—Å–∫–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Å—É–º–º–µ –Ω–∞–≥—Ä–∞–¥ –º–µ—Ç–æ–¥–∞ –∏–∑: value iteration, Q-learning, cross entropy, genetic algorithm.
X. –ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –≥—Ä–∞—Ñ–∞
–í –ø–æ–ª–Ω–æ–π –≤–µ—Ä—Å–∏–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏

–ú–æ–¥—É–ª—å GSPredictor (graph structure predictor) —Å–æ–¥–µ—Ä–∂–∏—Ç –∞–ª–≥–æ—Ä–∏—Ç–º –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –≥—Ä–∞—Ñ–∞, –∞ –∏–º–µ–Ω–Ω–æ, –ø—Ä–µ–¥—Å–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –¥–≤–µ –≤–µ–ª–∏—á–∏–Ω—ã: –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ –∏ —Å—Ä–µ–¥–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –Ω–æ–¥ –∏ —Ä—ë–±–µ—Ä –≥—Ä–∞—Ñ–∞. –≠—Ç–∏ –≤–µ–ª–∏—á–∏–Ω—ã –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—Ç—Å—è –∫–∞–∫ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ä—è–¥—ã, –ø–æ–ª—É—á–∞–µ–º—ã–µ –∏–∑ –∏–º–µ—é—â–∏—Ö—Å—è –¥–∞–Ω–Ω—ã—Ö, –¥–∞–ª–µ–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è ml- –∏ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ —Ä—è–¥–∞–º–∏ –∞–ª–≥–æ—Ä–∏—Ç–º—ã –¥–ª—è –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è.
XI. –ò–º–∏—Ç–∞—Ü–∏–æ–Ω–Ω–æ–µ –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ what-if –∞–Ω–∞–ª–∏–∑

import os

import pandas as pd

from sberpm import DataHolder

from sberpm.visual import GraphvizPainter

from sberpm.miners import SimpleMiner, CausalMiner

from sberpm.metrics import ActivityMetric, TransitionMetric



%matplotlib inline



data = pd.read_excel('example.xlsx')

data.head()


dh = DataHolder(

    data=data,

    id_column='id',

    activity_column='stages',

    start_timestamp_column='dt'

)

–ò–º–∏—Ç–∞—Ü–∏–æ–Ω–Ω–æ–µ –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ what-if –∞–Ω–∞–ª–∏–∑

–ú–æ–¥—É–ª—å –∏–º–∏—Ç–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏—è sberpm.imitation –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–∏–º—É–ª–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ü–µ—Å—Å –≤ as-is —Ñ–æ—Ä–º–µ, –≤–Ω–æ—Å–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –ø—Ä–æ—Ü–µ—Å—Å –∏ –ø—Ä–æ–≤–æ–¥–∏—Ç—å what-if –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–µ, –∞ —Ç–∞–∫–∂–µ –æ—Ü–µ–Ω–∏–≤–∞—Ç—å —Å—Ö–æ–∂–µ—Å—Ç—å —Å–∏–º—É–ª—è—Ü–∏–∏ –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å –∏—Å—Ö–æ–¥–Ω—ã–º –ª–æ–≥-—Ñ–∞–π–ª–æ–º —Å –ø–æ–º–æ—â—å—é –∫–ª–∞—Å—Å–æ–≤ Simulation –∏ SimilarityMetric —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ.

–ö–ª–∞—Å—Å Simulation —Å–æ–¥–µ—Ä–∂–∏—Ç –∞–ª–≥–æ—Ä–∏—Ç–º —Å–∏–º—É–ª—è—Ü–∏–∏ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ–≥–æ –ª–æ–≥–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞, –∞ —Ç–∞–∫ –∂–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –ø–æ–∑–≤–æ–ª—è—é—â–∏–µ –∏–∑–º–µ–Ω—è—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –≥—Ä–∞—Ñ–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞.

–®–∞–≥–∏ –∞–ª–≥–æ—Ä–∏—Ç–º–∞:

I. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö

    –ì–µ–Ω–µ—Ä–∞—Ü–∏—è cross table —Å –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—è–º–∏ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ –≤ —è—á–µ–π–∫–∞—Ö —Ç–∞–±–ª–∏—Ü—ã
        –í –¥–∞–Ω–Ω—ã–µ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è 'start' –∏ 'end' —Å–æ–±—ã—Ç–∏—è, –æ–Ω–∏ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ –ª–æ–≥–∞—Ö, –Ω–æ –ø–æ–º–æ–≥–∞—é—Ç –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –≥—Ä–∞—Ñ–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–æ–±–∞–≤–∏—Ç—å –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –≤—Ö–æ–¥ –≤ –ø—Ä–æ—Ü–µ—Å—Å, —Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–ª–µ–¥—É—é—â–∞—è —Ñ—É–Ω–∫—Ü–∏—è : add_edge('start', 'node_name', prob=float))
        –°–æ–∑–¥–∞–µ—Ç—Å—è –º–∞—Ç—Ä–∏—Ü–∞ —Å–º–µ–∂–Ω–æ—Å—Ç–∏ (—Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ –≤ —è—á–µ–π–∫–∞—Ö), –ø–æ—Å–ª–µ –∑–Ω–∞—á–µ–Ω–∏—è –ø—Ä–∏–≤–æ–¥—è—Ç—Å—è –∫ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—è–º

    –≠–∫—Å—Ç—Ä–∞–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∏–∑ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ –ª–æ–≥–∞, –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∫–∞—Ä—Ç–∏–Ω—ã —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π.
        –ò–∑ –ø–µ—Ä–µ–¥–∞–Ω–Ω–æ–≥–æ data_holder —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏—è duration –ø–æ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—è–º (–¥–∞–ª–µ–µ –æ–Ω–∏ –±—É–¥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—ã –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –Ω–æ–≤—ã—Ö —ç—Ç–∞–ø–æ–≤ —Å –∏–¥–µ–Ω—Ç–∏—á–Ω—ã–º —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ–º duration)

II. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è

    –î–∞–Ω–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤—ã–≤–∞—é—Ç—Å—è –≤ —Å–ª–æ–≤–∞—Ä—å {'action' : np.array({'action' : 'prob'})}, —Å—á–∏—Ç–∞–µ—Ç—Å—è –∏–Ω—Ç–µ—Ä–≤–∞–ª –º–µ–∂–¥—É –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ —Ç–æ—á–∫–∞–º–∏ –≤—Ö–æ–¥–∞ –≤ –ø—Ä–æ—Ü–µ—Å—Å (–Ω—É–∂–µ–Ω —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å start_timestamp –¥–ª—è –∫–∞–∂–¥–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏)

    –í —Ü–∏–∫–ª–µ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –ª–æ–≥–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞
        –ù–∞ –∫–∞–∂–¥–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ —Å—Ç—Ä–æ–∏—Ç—Å—è —Ü–µ–ø–æ—á–∫–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π
        –í –ª–æ–≥ –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏, –≤—Ä–µ–º—è –Ω–∞—á–∞–ª–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞ –∏ id –ø—Ä–æ—Ü–µ—Å—Å–∞

    –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≤—Ä–µ–º–µ–Ω–∏ (–¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —ç—Ç–∞–ø–æ–≤):
        –ï—Å–ª–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –µ—Å—Ç—å –≤ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–º data_holder, —Ç–æ —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ —Å–∂–∏–º–∞—é—Ç—Å—è\—Ä–∞—Å—Ç—è–≥–∏–≤–∞—é—Ç—Å—è –¥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —ç—Ç–æ–≥–æ —ç—Ç–∞–ø–∞ –≤ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –ª–æ–≥–µ
        –ï—Å–ª–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∏ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω like_node, —Ç–æ –≤—Ä–µ–º—è –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è —Å —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ–º, –∫–∞–∫ —É —É–∫–∞–∑–∞–Ω–Ω–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ (–≤—Ä–µ–º—è –±—É–¥–µ—Ç –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–æ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ mean_time)
        –ï—Å–ª–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∏ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –Ω–µ —É–∫–∞–∑–∞–Ω like_node, —Ç–æ –±–µ—Ä–µ—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ —Å—Ä–µ–¥–Ω–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ (–∏–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ —Å—Ä–µ–¥–Ω–µ–≥–æ –ø–æ –≤—Å–µ–º —Å—Ä–µ–¥–Ω–∏–º –≤—Ä–µ–º–µ–Ω–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞, –µ—Å–ª–∏ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –Ω–µ –±—ã–ª–æ —É–∫–∞–∑–∞–Ω–æ) –∏ —Å—Ç—Ä–æ–∏—Ç—Å—è –Ω–æ—Ä–º–∞–ª—å–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ.

III. –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –≥—Ä–∞—Ñ–∞

–ù–∏–∂–µ —É–∫–∞–∑–∞–Ω–Ω—ã –æ—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π –≥—Ä–∞—Ñ–∞.

    –£–¥–∞–ª–µ–Ω–∏–µ –≤–µ—Ä—à–∏–Ω –∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π
        delete_node(node, save_con=True) - —É–¥–∞–ª—è–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø–æ –∏–º–µ–Ω–∏, —Ñ–ª–∞–≥ save_con –æ–∑–Ω–∞—á–∞–µ—Ç –±—É–¥—É—Ç –ª–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è. –ü—Ä–∏–º–µ—Ä: A -> B -> C delete_node('B', save_con=True) A -> C
        delete_edge(node, node, side='right') - —É–¥–∞–ª—è–µ—Ç —Ä–µ–±—Ä–∞ (–ø–µ—Ä–µ—Ö–æ–¥—ã) –º–µ–∂–¥—É –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–º–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—è–º–∏, —Ç.–∫ —Å–≤—è–∑—å –º–æ–∂–µ—Ç –±—ã—Ç—å –≤ –æ–±–µ —Å—Ç–æ—Ä–æ–Ω—ã, –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è —Ñ–ª–∞–≥ side –æ–∑–Ω–∞—á–∞—é—â–∏–π –±—É–¥–µ—Ç –ª–∏ —Å–≤—è–∑—å —Å–ª–µ–≤–∞ –Ω–∞–ø—Ä–∞–≤–æ, —Å–ø—Ä–∞–≤–∞ –Ω–∞–ª–µ–≤–æ –∏–ª–∏ –≤ –æ–±–µ —Å—Ç–æ—Ä–æ–Ω—ã. –ü—Ä–∏–º–µ—Ä: A <-> B delete_edge('A', 'B', side='right') A <- B

    –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ä–µ–±–µ—Ä –∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π
        add_node(new_node, nodes=list, probabilities=list, mean_time=float, time_like='node', side='both') - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏ —Å–≤—è–∑—ã–≤–∞–Ω–∏–µ –Ω–æ–≤–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ —Å –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–º —Å–ø–∏—Å–∫–æ–º –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π, probabilities - –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ –ø–µ—Ä–µ—Ö–æ–¥–∞, mean_time - —Å—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏, side - –≤ –∫–∞–∫—É—é —Å—Ç–æ—Ä–æ–Ω—É –±—É–¥–µ—Ç —Å–≤—è–∑—å, time_like - –∫–æ–ø–∏—Ä—É–µ—Ç —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ (–±—É–¥–µ—Ç –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–æ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç mean_time)
        add_edge(node, node, prob, side) - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–≤—è–∑–∏ –º–µ–∂–¥—É –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—è–º–∏, prob - –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ –ø–µ—Ä–µ—Ö–æ–¥–∞, side - –≤ –∫–∞–∫—É—é —Å—Ç–æ—Ä–æ–Ω—É –±—É–¥–µ—Ç —Å–≤—è–∑—å
        swap_nodes(node, node, save_probabilities=True) - –º–µ–Ω—è–µ—Ç –º–µ—Å—Ç–∞–º–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ (–≤–º–µ—Å—Ç–µ —Å —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ–º –≤—Ä–µ–º–µ–Ω–∏), save_probabilities - —Ñ–ª–∞–≥ —É–∫–∞–∑—ã–≤–∞—é—â–∏–π –Ω–∞ —Ç–æ, –±—É–¥—É—Ç –ª–∏ —Ç—è–Ω—É—Ç—å—Å—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ –ø—Ä–µ–¥—à–µ—Å—Ç–≤—É—é—â–∏—Ö –Ω–æ–¥ –ø—Ä–∏ —Å–≤–∞–ø–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π (–µ—Å–ª–∏ False, —Ç–æ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è –ø–µ—Ä–µ—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –ø–µ—Ä–µ—Å—á–µ—Ç –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–µ–π)

    –ò–∑–º–µ–Ω–µ–Ω–∏–µ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–µ–π
        change_edge_prob(node, node, prob=float) - –∏–∑–º–µ–Ω—è–µ—Ç –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –ø–µ—Ä–µ—Ö–æ–¥–∞ –º–µ–∂–¥—É –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—è–º–∏ ( prob = 0, –∞–Ω–∞–ª–æ–≥–∏—á–µ–Ω —É–¥–∞–ª–µ–Ω–∏—é –ø–µ—Ä–µ—Ö–æ–¥–∞)
        scale_time_node(node, scale=1) - –∏–∑–º–µ–Ω—è–µ—Ç –≤—Ä–µ–º—è –ø—Ä–æ—Ü–µ—Å—Å–∞ (—Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ—Å—Ç–∞–Ω–µ—Ç—Å—è –ø—Ä–µ–∂–Ω–∏–º - –∫–∞–∫ –≤ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–º –¥–∞—Ç–∞—Å–µ—Ç–µ), scale - —ç—Ç–æ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç —É–º–µ–Ω—å—à–µ–Ω–∏—è (–µ—Å–ª–∏ < 1) –∏–ª–∏ —É–≤–µ–ª–∏—á–µ–Ω–∏—è (–µ—Å–ª–∏ > 1) –ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏.

from sberpm.imitation import Simulation, SimilarityMetric

–ü–∞—Ä–∞–º–µ—Ç—Ä—ã Simulation

    data_holder : DataHolder

–ú–µ—Ç–æ–¥—ã –∫–ª–∞—Å—Å–∞ Simulation:

    generate ‚Äì –∑–∞–ø—É—Å–∫ —Å–∏–º—É–ª—è—Ü–∏–∏ iterations (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ) —Ü–µ–ø–æ—á–µ–∫ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π (id)
    _mean_duration ‚Äì —Å—Ä–µ–¥–Ω—è—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π –∏–ª–∏ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ
    scale_time_node ‚Äì –∏–∑–º–µ–Ω–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
    change_edge_probability - –∏–∑–º–µ–Ω—è–µ—Ç –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –ø–µ—Ä–µ—Ö–æ–¥–∞ (—Ä–µ–±—Ä–∞) –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ
    delete_node, delete_edge, delete_loop, delete_all_loops ‚Äì —É–¥–∞–ª–µ–Ω–∏–µ –Ω–æ–¥—ã –∏ —Ä–µ–±—Ä–∞ –∏–∑ –ø—Ä–æ—Ü–µ—Å—Å–∞ (delete_loop - —É–¥–∞–ª—è–µ—Ç —Ä–µ–±—Ä–æ "–≤ —Å–µ–±—è")
    add_edge, add_node, add_loop - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–¥—ã –∏ —Ä–µ–±—Ä–∞ –≤ –ø—Ä–æ—Ü–µ—Å—Å (loop - –¥–æ–±–∞–≤–ª—è–µ—Ç —Ä–µ–±—Ä–æ "–≤ —Å–µ–±—è")
    swap_nodes ‚Äì –º–µ–Ω—è–µ—Ç –º–µ—Å—Ç–∞–º–∏ –Ω–æ–¥—ã (—Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –∏–ª–∏ —Å –ø–µ—Ä–µ—Å—á–µ—Ç–æ–º –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–µ–π)
    get_result ‚Äì –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
    compute_metric - —Å—á–∏—Ç–∞–µ—Ç —Ä–∞–∑–ª–∏—á–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏
    get_probabilities_tab - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–∞—Ç—Ä–∏—Ü—É —Å–º–µ–∂–Ω–æ—Å—Ç–∏, –ø–æ–∑–≤–æ–ª—è–µ—Ç —É–≤–∏–¥–µ—Ç—å –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤

–ù–∞ –≤—Ö–æ–¥ –∫–ª–∞—Å—Å –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –æ–±—ä–µ–∫—Ç —Ç–∏–ø–∞ DataHolder.

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è

sim = Simulation(dh)

As-is –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–µ

–ú–µ—Ç–æ–¥ generate –∑–∞–ø—É—Å–∫–∞–µ—Ç —Å–∏–º—É–ª—è—Ü–∏—é –ø—Ä–æ—Ü–µ—Å—Å–∞. –û–Ω –∏–º–µ–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã iterations ‚Äì —á–∏—Å–ª–æ —Ü–µ–ø–æ—á–µ–∫ —Å–æ–±—ã—Ç–∏–π –¥–ª—è —Å–∏–º—É–ª—è—Ü–∏–∏.

sim.generate(1000)

sim_data = sim.get_result()

sim_data.head()

generated_dh = DataHolder(

    data=sim_data,

    id_column='id',

    activity_column='stages',

    start_timestamp_column='dt',

)

–ü–æ–ª—É—á–µ–Ω–Ω—ã–π –ª–æ–≥ –º–æ–∂–Ω–æ –æ—Ç—Ä–∏—Å–æ–≤–∞—Ç—å —Å –ø–æ–º–æ—â—å—é –º–∞–π–Ω–µ—Ä–∞ –∏ –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –≥—Ä–∞—Ñ–æ–≤.

simple_miner = SimpleMiner(generated_dh)

simple_miner.apply()

graph = simple_miner.graph



painter = GraphvizPainter()

painter.apply(graph)

painter.show()

What-if –∞–Ω–∞–ª–∏–∑

–ú–µ—Ç–æ–¥—ã delete_node, delete_edge, add_node, add_edge, add_loop, delete_loop –∏ swap_nodes –ø–æ–∑–≤–æ–ª—è—é—Ç –∏–∑–º–µ–Ω—è—Ç—å –≥—Ä–∞—Ñ –ø—Ä–æ—Ü–µ—Å—Å. –ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ —Å–∏–º—É–ª—è—Ü–∏–∏ –ø—Ä–æ—Ü–µ—Å—Å –±—É–¥–µ—Ç —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å—Å—è –ø–æ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–º –ø—É—Ç—è–º.

# —É–¥–∞–ª–µ–Ω–∏–µ –Ω–æ–¥

sim.delete_node("Stage_5")

# —É–¥–∞–ª–µ–Ω–∏–µ —Ä–µ–±–µ—Ä (side=True - —Ç–æ–ª—å–∫–æ –≤ –æ–¥–Ω—É —Å—Ç–æ—Ä–æ–Ω—É)

sim.delete_edge('Stage_7', 'Stage_5', side='right')

# –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–¥—ã (action), nodes - –ª–∏—Å—Ç —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –≤–µ—Ä—à–∏–Ω —Å –Ω–æ–≤–æ–π –≤–µ—Ä—à–∏–Ω–æ–π, probabilities - –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ –ø–µ—Ä–µ—Ö–æ–¥–∞ –≤ —Å–≤—è–∑–∞–Ω–Ω—ã–µ –≤–µ—Ä—à–∏–Ω—ã

sim.add_node('Stages_10',

             nodes=['Stage_8', 'Stage_5', 'Stage_10'],

             probabilities=[0.15, 0.35], mean_time=3333, side='both')

# –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤–µ—Ä—à–∏–Ω—ã, prob - –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –ø–µ—Ä–µ—Ö–æ–¥–∞ –≤ –Ω–µ–µ

sim.add_edge('Stage_7', 'Stage_7', prob=0.15, side='right')



# —Ä–∞–±–æ—Ç–∞ —Å –ø–µ—Ç–ª—è–º–∏ (–º–æ–∂–Ω–æ –ø–∏—Å–∞—Ç—å –∏ sim.add_edge('node1', 'node1', prob=0.5))

sim.delete_loop('Stage_10')



# –º–µ–Ω—è–µ—Ç –º–µ—Å—Ç–∞–º–∏ –Ω–æ–¥—ã –∏ –∏—Ö —Å—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è (–≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ –Ω–µ –º–µ–Ω—è–µ—Ç)

sim.swap_nodes('Stage_2', 'Stage_0', save_probabilities=False)



sim.generate(5000)



sim.get_result()

–î–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å —Ç–æ, –∫–∞–∫ –∏–∑–º–µ–Ω—è—é—Ç—Å—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ –º–µ–∂–¥—É action –≤ –≥—Ä–∞—Ñ–µ –ø—Ä–æ—Ü–µ—Å—Å–∞, –±—ã–ª –¥–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ get_probabilities_tab. –û–Ω –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–∞–±–ª–∏—Ü—É –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ : —Å—Ç–æ–ª–±–µ—Ü —Å–ª–µ–≤–∞ - —ç—Ç–æ action "–æ—Ç–∫—É–¥–∞", —Å—Ç—Ä–æ–∫–∞ —Å–≤–µ—Ä—Ö—É - —ç—Ç–æ "–∫—É–¥–∞" –¥–µ–ª–∞–µ—Ç—Å—è –ø–µ—Ä–µ—Ö–æ–¥, –∑–Ω–∞—á–µ–Ω–∏—è –≤ —è—á–µ–π–∫–∞—Ö —ç—Ç–æ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏.

sim.get_probabilities_tab()



sim.change_edge_probability('Stage_10', 'Stage_10', 3)

sim.change_edge_probability('Stage_9', 'end', 0.75)

–° –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ scale_time_node –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –≤—Ä–µ–º—è –ø—Ä–æ—Ü–µ—Å—Å–∞ (–æ–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ—Å—Ç–∞–Ω–µ—Ç—Å—è –ø—Ä–µ–∂–Ω–∏–º - –∫–∞–∫ –≤ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–º –¥–∞—Ç–∞—Å–µ—Ç–µ), scale - —ç—Ç–æ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç —É–º–µ–Ω—å—à–µ–Ω–∏—è (–µ—Å–ª–∏ < 1) –∏–ª–∏ —É–≤–µ–ª–∏—á–µ–Ω–∏—è (–µ—Å–ª–∏ > 1) –ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

sim.scale_time_node('Stage_4', scale=1.5)

sim.scale_time_node('Stage_3', scale=0.75)



sim.generate(10000)

sim_data = sim.get_result()

sim_data.shape



generated_dh = DataHolder(

    data=sim.get_result(),

    id_column='id',

    activity_column='stages',

    start_timestamp_column='dt'

)

simple_miner = SimpleMiner(generated_dh)

simple_miner.apply()

graph = simple_miner.graph



painter = GraphvizPainter()

painter.apply(graph)

painter.show()

XII. Decision Mining

–ú–æ–¥—É–ª—å sberpm.decision_mining –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è decision point analysis, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–∏ –ø—Ä–∏—á–∏–Ω, –ø–æ—á–µ–º—É –ø—Ä–æ—Ü–µ—Å—Å –∏–¥–µ—Ç –ø–æ —Ç–æ–º—É –∏–ª–∏ –∏–Ω–æ–º—É –ø—É—Ç–∏. –ö–ª–∞—Å—Å DecisionMining –≤—ã—è–≤–ª—è–µ—Ç, –∫–∞–∫ —Ç–µ –∏–ª–∏ –∏–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞ (–∞—Ç—Ä–∏–±—É—Ç—ã) –ø—Ä–æ—Ü–µ—Å—Å–∞ –≤–ª–∏—è—é—Ç –Ω–∞ –≤—ã–±–æ—Ä –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø—É—Ç–∏.

from sberpm.decision_mining import DecisionMining

–ù–∞ –≤—Ö–æ–¥ DecisionMining –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –æ–±—ä–µ–∫—Ç —Ç–∏–ø–∞ DataHolder.

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è

dm = DecisionMining(data_holder)

DecisionMining –∏–º–µ–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –º–µ—Ç–æ–¥—ã:

    print_decision_points ‚Äì –≤—ã–≤–æ–¥–∏—Ç decision points (–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏, –ø–æ—Å–ª–µ –∫–æ—Ç–æ—Ä—ã—Ö –∏–¥–µ—Ç –≤—ã–±–æ—Ä)
    apply ‚Äì –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∞–Ω–∞–ª–∏–∑ decision points, —Å—Ç—Ä–æ—è –¥–µ—Ä–µ–≤–æ —Ä–µ—à–µ–Ω–∏–π –ø–æ —É–∫–∞–∑–∞–Ω–Ω—ã–º –∞—Ç—Ä–∏–±—É—Ç–∞–º
    get_clf_metrics ‚Äì –≤—ã–≤–æ–¥–∏—Ç –º–µ—Ç—Ä–∏–∫–∏ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏
    plot_confusion_matrix ‚Äì —Ä–∏—Å—É–µ—Ç –º–∞—Ç—Ä–∏—Ü—ã –æ—à–∏–±–æ–∫
    plot_feature_importance ‚Äì —Ä–∏—Å—É–µ—Ç –≤–∞–∂–Ω–æ—Å—Ç—å –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ –≤ –¥–µ—Ä–µ–≤–µ
    plot_feature_distribution ‚Äì —Ä–∏—Å—É–µ—Ç —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ –ø–æ –∫–ª–∞—Å—Å–∞–º
    plot_decision_tree ‚Äì —Ä–∏—Å—É–µ—Ç –¥–µ—Ä–µ–≤–æ —Ä–µ—à–µ–Ω–∏–π
    print_decision_rule ‚Äì –≤—ã–≤–æ–¥–∏—Ç —Ä–µ—à–∞—é—â–∏–µ –ø—Ä–∞–≤–∏–ª–∞

Decision points ‚Äì —Ç–æ—á–∫–∏, –≥–¥–µ –ø—Ä–æ—Ü–µ—Å—Å –∏–º–µ–µ—Ç —Ä–∞–∑–≤–µ—Ç–≤–ª–µ–Ω–∏–µ, –º–æ–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ print_decision_points.

dm.print_decision_points()

–ú–µ—Ç–æ–¥ apply –∑–∞–ø—É—Å–∫–∞–µ—Ç –∞–ª–≥–æ—Ä–∏—Ç–º decision mining. –û–Ω –∏–º–µ–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:

    categorical_attrs ‚Äì –Ω–∞–∑–≤–∞–Ω–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∞–ª—å–Ω—ã—Ö –ø—Ä–∏–∑–Ω–∞–∫–æ–≤
    noncategorical_attrs ‚Äì –Ω–∞–∑–≤–∞–Ω–∏—è –Ω–µ–∫–∞—Ç–µ–≥–æ—Ä–∏–∞–ª—å–Ω—ã—Ö –ø—Ä–∏–∑–Ω–∞–∫–æ–≤
    decision_points ‚Äì —Ç–æ—á–∫–∏, –ø–æ –∫–æ—Ç–æ—Ä—ã–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–æ—Å—Ç—Ä–æ–∏—Ç—å –¥–µ—Ä–µ–≤—å—è —Ä–µ—à–µ–Ω–∏–π, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—é—Ç—Å—è –≤—Å–µ
    sampling ‚Äì –Ω—É–∂–µ–Ω –ª–∏ sampling (over- –∏–ª–∏ under-), —Å–ª–µ–¥—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ —Å–ª—É—á–∞–µ –Ω–µ—Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤
    tree_params ‚Äì –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–µ—Ä–µ–≤–∞ —Ä–µ—à–µ–Ω–∏–π
    grid_search ‚Äì –Ω—É–∂–µ–Ω –ª–∏ –ø–æ–¥–±–æ—Ä –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã—Ö –≥–∏–ø–µ—Ä–ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –¥–µ—Ä–µ–≤–∞ —Ä–µ—à–µ–Ω–∏–π
    param_grid ‚Äì —Å–µ—Ç–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ grid_search=True
    random_state ‚Äì –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –¥–µ—Ä–µ–≤–µ —Ä–µ—à–µ–Ω–∏–π –∏ sampling
    n_jobs ‚Äì –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ sampling –∏ grid_search

dm.apply(categorical_attrs=[data_holder.user_column],

         noncategorical_attrs=[data_holder.duration_column],

         decision_points='all',

         sampling='RandomOverSampler',

         tree_params='default',

         grid_search=False,

         param_grid='default',

         random_state=42,

         n_jobs=None)

–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ –º–æ–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–æ–≤ get_clf_metrics, plot_confusion_matrix –∏ plot_feature_importance.

dm.get_clf_metrics()

–ö–∞—á–µ—Å—Ç–≤–æ –Ω–µ–≤—ã—Å–æ–∫–æ–µ –∏–∑-–∑–∞ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–µ–π —Å–∏–Ω—Ç–µ—Ç–∏—á–µ—Å–∫–æ–≥–æ –¥–∞—Ç–∞—Å–µ—Ç–∞.

–í—Å–µ plot –º–µ—Ç–æ–¥—ã –∏–º–µ—é—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:

    decision_points ‚Äì —Ç–æ—á–∫–∏, –¥–ª—è –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∏–∑–æ–±—Ä–∞–∑–∏—Ç—å —Ö–∞—Ä–∞—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏
    savefig ‚Äì –Ω—É–∂–Ω–æ –ª–∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ

dm.plot_confusion_matrix(decision_points=['Stage_0'], savefig=False)

dm.plot_feature_importance(decision_points=['Stage_0'], savefig=False)

–ú–µ—Ç–æ–¥ plot_feature_importance –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –∏–º–µ–µ—Ç –µ—â–µ –¥–≤–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞:

    drop_outliers ‚Äì –Ω—É–∂–Ω–æ –ª–∏ —É–¥–∞–ª–∏—Ç—å –≤—ã–±—Ä–æ—Å—ã –¥–ª—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –ø—Ä–∏–∑–Ω–∞–∫–æ–≤
    clf_results ‚Äì –Ω–∞—Ä–∏—Å–æ–≤–∞—Ç—å —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ –ø–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ (True) –∏–ª–∏ –ø–æ –∏—Å—Ö–æ–¥–Ω–æ–º—É –ª–æ–≥—É (False)

dm.plot_feature_distribution(decision_points=['Stage_0'], drop_outliers=True, clf_results=True, savefig=False)

–ú–µ—Ç–æ–¥—ã plot_decision_tree –∏ print_decision_rule –≤—ã–≤–æ–¥—è—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ä–∞–±–æ—Ç—ã decision mining –∞–ª–≥–æ—Ä–∏—Ç–º–∞ –≤ –≤–∏–¥–µ –¥–µ—Ä–µ–≤–∞ –∏ –ø—Ä–∞–≤–∏–ª —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ.

–ü–∞—Ä–∞–º–µ—Ç—Ä—ã plot_decision_tree:

    decision_points ‚Äì —Ç–æ—á–∫–∏, –¥–ª—è –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –Ω–∞—Ä–∏—Å–æ–≤–∞—Ç—å –¥–µ—Ä–µ–≤–æ —Ä–µ—à–µ–Ω–∏–π
    max_depth ‚Äì –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –≥–ª—É–±–∏–Ω–∞ –¥–µ—Ä–µ–≤–∞
    scale ‚Äì –º–∞—Å—à—Ç–∞–± –≥—Ä–∞—Ñ–∏–∫–∞
    savefig ‚Äì –Ω—É–∂–Ω–æ –ª–∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ

dm.plot_decision_tree(decision_points=['Stage_0'], max_depth=None, scale=1, savefig=False)

–ü–∞—Ä–∞–º–µ—Ç—Ä—ã print_decision_rule:

    decision_points ‚Äì —Ç–æ—á–∫–∏, –¥–ª—è –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤—ã–≤–µ—Å—Ç–∏ —Ä–µ—à–∞—é—â–∏–µ –ø—Ä–∞–≤–∏–ª–∞
    paths ‚Äì –ø—É—Ç–∏, –ø–æ –∫–æ—Ç–æ—Ä—ã–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤—ã–≤–µ—Å—Ç–∏ —Ä–µ—à–∞—é—â–∏–µ –ø—Ä–∞–≤–∏–ª–∞

dm.print_decision_rule(decision_points=['Stage_0'], paths=['Stage_1'])

XIII. –•—Ä–æ–Ω–æ–º–µ—Ç—Ä–∞–∂

–†–∞—Å—á—ë—Ç –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞ —Å –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–π –æ—á–∏—Å—Ç–∫–æ–π –≤—ã–±—Ä–æ—Å–æ–≤ –ø—Ä–∏ –ø–æ–º–æ—â–∏ –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è.

    data_holder (SberPM DataHolder) - –∫–ª–∞—Å—Å —Å —Ö—Ä–∞–Ω—è—â–∏–º–∏—Å—è –¥–∞–Ω–Ω—ã–º–∏
    start_query (str) - –∑–∞–ø—Ä–æ—Å —É–∫–∞–∑—ã–≤–∞—é—â–∏–π –Ω–∞ –Ω–∞—á–∞–ª–æ –Ω–æ–≤–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞
    end_query (str) - –∑–∞–ø—Ä–æ—Å —É–∫–∞–∑—ã–≤–∞—é—â–∏–π –Ω–∞ –æ–∫–æ–Ω—á–∞–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞
    query (str) - –∑–∞–ø—Ä–æ—Å —É–∫–∞–∑—ã–≤–∞—é—â–∏–π –Ω–∞ –Ω–∞—á–∞–ª–æ –Ω–æ–≤–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ –∏–ª–∏ –Ω–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞ –≤ –¥–∞–Ω–Ω–æ–π —Å—Ç—Ä–æ–∫–µ
    change_columns (List[str]) - —Å–ø–∏—Å–æ–∫ —Å –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏ –∫–æ–ª–æ–Ω–æ–∫ –ø–æ –∫–æ—Ç–æ—Ä—ã–º –º–æ–∂–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —á—Ç–æ –Ω–∞—á–∞–ª—Å—è –Ω–æ–≤—ã–π –ø—Ä–æ—Ü–µ—Å—Å –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∑–Ω–∞—á–µ–Ω–∏—è –≤ –∫–æ–ª–æ–Ω–∫–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞ –∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
    sort_params (List[str]) - —Å–ø–∏—Å–æ–∫ –Ω–∞–∑–≤–∞–Ω–∏–π –∫–æ–ª–æ–Ω–æ–∫ –ø–æ –∫–æ—Ç–æ—Ä—ã–º –±—É–¥–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—å—Å—è –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–∞—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö

–ü–∞—Ä–∞–º–µ—Ç—Ä—ã query, start_query, end_query –º–æ–≥—É—Ç –±—ã—Ç—å —Ç–∏–ø–∞ "sql" –∏–ª–∏ "pandas", –æ–Ω–∏ –æ–±–∞ –¥–æ–ª–∂–Ω—ã —Å—Å—ã–ª–∞—Ç—å—Å—è –Ω–∞ —Ñ—Ä–µ–π–º –¥–∞–Ω–Ω—ã—Ö –∫–∞–∫ "df", –æ–Ω–∏ –¥–æ–ª–∂–Ω—ã –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –æ–¥–∏–Ω —Å—Ç–æ–ª–±–µ—Ü: –±—É–ª–µ–≤—É—é –º–∞—Å–∫—É –∏–ª–∏ —Å—Ç–æ–ª–±–µ—Ü –∏–∑ 0 –∏ 1.

–í —Å–ª—É—á–∞–µ, –µ—Å–ª–∏ –∑–∞–¥–∞—ë—Ç—Å—è "sql" –∑–∞–ø—Ä–æ—Å, —Ç–æ –æ–Ω –¥–æ–ª–∂–µ–Ω –≤—ã–≥–ª—è–¥–µ—Ç—å –∫–∞–∫ "SELECT ... from df".

–ú–µ—Ç–æ–¥ get_chrono() –Ω–∞—á–Ω—ë—Ç –ø—Ä–æ—Ü–µ—Å—Å —Ä–∞—Å—á—ë—Ç–∞ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞ –∏ –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –≤—ã–≤–µ–¥–µ—Ç —Å–ª–æ–≤–∞—Ä—å(dict) —Å —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏:

    —Å—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º–µ–Ω—è –ø—Ä–æ—Ü–µ—Å—Å–∞ –≤ —Å–µ–∫—É–Ω–¥–∞—Ö
    –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ç–æ–±—Ä–∞–Ω–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
    –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
    –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤ —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–Ω—ã—Ö –≤ —Ö—Ä–æ–Ω–æ–º–µ—Ç—Ä–∞–∂–µ

from sberpm.ml.chronometrage import Chronometrage

df = pd.read_excel('chrono_data.xlsx', engine='openpyxl')

dh = DataHolder(df, 'process_id', 'event_type', 'data_timestamp')

example_start_query = """(df['event_type'] == '–ü—Ä–æ—Ü–µ—Å—Å_16961') & (df['event_action'].isin(['–ù–∞—á–∞–ª–æ']))"""

example_end_query = """(df['event_type'] == '–ü—Ä–æ—Ü–µ—Å—Å_16961') & (df['event_action'].isin(['–ö–æ–Ω–µ—Ü']))"""

cr = Chronometrage(dh,

                   sort_params=['process_id', 'user_id', 'data_timestamp'],

                   start_query=example_start_query,

                   end_query=example_end_query,

                   change_columns=['process_id', 'user_id'])

res = cr.get_chrono()

res